(window.webpackJsonp=window.webpackJsonp||[]).push([[18,4,19,43,46,50,51,52,53,56,65,68,87,98,99,102],{548:function(t,e,i){"use strict";i.r(e);var s={name:"MyList",props:{content_id:{type:String,default:null},content_type:{type:String,default:null},button_text:{type:Array,default:function(){return null}},button_type:{type:String,default:"secondary"}},data:function(){return{hasAccess:!1}},computed:{isInMyList:function(){if(this.isLoggedIn){var t=this.$store.getters["myListIndex/get"];return!!t&&t.indexOf(this.content_id)>-1}},isLoggedIn:function(){return this.$store.getters["userIndex/isUserLoggedIn"]},buttonCopy:function(){if(this.button_text)return{add_text:this.button_text[0],remove_text:this.button_text[1]};switch(this.content_type){case"show":return{add_text:"My Shows",remove_text:"Remove"};case"video":return{add_text:"My Videos",remove_text:"Remove"};case"issue":return{add_text:"My Reports",remove_text:"Remove"};default:return{add_text:"My List",remove_text:"Remove"}}}},created:function(){var t=this;this.$store.dispatch("userIndex/fetchUser").then((function(){t.$store.getters["userIndex/isUserLoggedIn"]&&(t.$store.dispatch("myListIndex/fetchByContentId",t.content_id),"video"===t.content_type&&t.$store.dispatch("videosIndex/fetchEntitlement",{id:t.content_id}).then((function(e){t.hasAccess=e})),"issue"===t.content_type&&t.$store.dispatch("issuesIndex/getData",{id:t.content_id}).then((function(){t.hasAccess=t.$store.getters["issuesIndex/hasAccess"](t.content_id)})),"video"!==t.content_type&&"issue"!==t.content_type&&(t.hasAccess=t.$store.getters["myListIndex/hasAccess"]))}))},methods:{addToList:function(){this.$store.dispatch("myListIndex/add",{id:this.content_id,type:this.content_type}),this.$emit("trigger_notification","Added to My List")},removeFromList:function(){this.$store.dispatch("myListIndex/remove",{id:this.content_id,type:this.content_type}),this.$emit("trigger_notification","Removed from My List")}}},n=i(149),a=Object(n.a)(s,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.hasAccess&&!t.isInMyList?i("button",{staticClass:"button mylist",class:[t.button_type],on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.addToList(e)}}},[i("span",[i("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 28 28"}},[i("g",{attrs:{fill:"none","fill-rule":"evenodd",stroke:"#FFF","stroke-width":"2",transform:"translate(2 2)"}},[i("path",{attrs:{"stroke-linecap":"round",d:"M7 12h10M12 7v10"}}),t._v(" "),i("circle",{attrs:{cx:"12",cy:"12",r:"13"}})])]),t._v("\n    "+t._s(t.buttonCopy.add_text)+"\n  ")])]):t.hasAccess&&t.isInMyList?i("button",{staticClass:"button mylist",class:[t.button_type],on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.removeFromList(e)}}},[i("span",[i("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 28 28"}},[i("g",{attrs:{fill:"none","fill-rule":"evenodd",stroke:"#FFF","stroke-width":"2",transform:"translate(2 2)"}},[i("path",{attrs:{"stroke-linecap":"round",d:"M7 12h10"}}),t._v(" "),i("circle",{attrs:{cx:"12",cy:"12",r:"13"}})])]),t._v("\n    "+t._s(t.buttonCopy.remove_text)+"\n  ")])]):t._e()}),[],!1,null,"7935cece",null);e.default=a.exports},549:function(t,e,i){"use strict";i.r(e);var s={name:"LiveNowBadge",components:{LiveIcon:i(550).default},props:{contentId:{type:String,required:!0},position:{type:String,default:"top-right"},showLatestEpisode:{type:Boolean,default:!1}},data:function(){return{isLive:!1}},mounted:function(){var t=this;window.addEventListener("live-content-changed",(function(e){t.checkIsLive()})),this.checkIsLive()},methods:{checkIsLive:function(){var t=window.liveContent&&this.contentId&&(window.liveContent.show_ids&&window.liveContent.show_ids.includes(this.contentId)||window.liveContent.video_ids&&window.liveContent.video_ids.includes(this.contentId));this.isLive=t,this.$emit("liveContentChanged",t)}}},n=i(149),a=Object(n.a)(s,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isLive?i("div",{staticClass:"live-now-badge",class:t.position},[i("i",{staticClass:"live-icon"},[i("live-icon")],1),t._v(" "),i("span",{staticClass:"live-text"},[t._v("LIVE NOW")])]):t.showLatestEpisode&&t.window.liveContent?i("div",{staticClass:"badge"},[t._v("Latest Episode")]):t._e()}),[],!1,null,"7210b2d4",null);e.default=a.exports},550:function(t,e,i){"use strict";i.r(e);var s=i(149),n=Object(s.a)({name:"LiveIcon"},(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"currentColor"}},[i("g",[i("rect",{staticClass:"loading-bar-5",attrs:{width:"2",height:"16",x:"1",rx:"1"}}),t._v(" "),i("rect",{staticClass:"loading-bar-4",attrs:{width:"2",height:"16",x:"4",rx:"1"}}),t._v(" "),i("rect",{staticClass:"loading-bar-3",attrs:{width:"2",height:"16",x:"7",rx:"1"}}),t._v(" "),i("rect",{staticClass:"loading-bar-2",attrs:{width:"2",height:"16",x:"10",rx:"1"}}),t._v(" "),i("rect",{staticClass:"loading-bar-1",attrs:{width:"2",height:"16",x:"13",rx:"1"}})])])}),[],!1,null,"25c7a871",null);e.default=n.exports},554:function(t,e,i){"use strict";i.r(e);var s={name:"Pagination",props:{itemsCount:{type:Number,default:0,required:!0},currentPage:{type:Number,default:1,required:!0},perPage:{type:Number,default:24}},computed:{maxVisibleButtons:function(){return Math.min(3,this.pageCount)},pageCount:function(){return Math.ceil(this.itemsCount/this.perPage)},startRange:function(){return 1===Number(this.currentPage)?1:Number(this.currentPage)===this.pageCount?this.pageCount-this.maxVisibleButtons+1:Number(this.currentPage-1)},endRange:function(){return Math.min(this.startRange+this.maxVisibleButtons-1,this.pageCount)},range:function(){for(var t=[],e=this.startRange;e<=this.endRange;e++)t.push(e);return this.startRange>1&&t.unshift(1,"..."),this.startRange<this.pageCount-(this.maxVisibleButtons-1)&&t.push("...",this.pageCount),t}},methods:{pageLink:function(t){var e="list_page=".concat(t);if(window.location.search){var i=window.location.search.split("?")[1].split("&").filter((function(t){return!t.includes("list_page")}));return i.length?"?".concat(i.join("&"),"&").concat(e):"?".concat(e)}return"?".concat(e)}}},n=i(149),a=Object(n.a)(s,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.pageCount>1?i("section",[i("nav",{staticClass:"pagination is-centered"},[i("ul",{staticClass:"pagination-list"},[i("li",{class:1===Number(t.currentPage)?"previous disabled":"previous"},[i("a",{staticClass:"pagination-link",attrs:{href:t.pageLink(Number(t.currentPage)-1)}},[t._m(0)])]),t._v(" "),t._l(t.range,(function(e,s){return i("li",{key:s+e,staticClass:"is-small"},[e===t.currentPage?i("span",{staticClass:"pagination-link current is-small",attrs:{"aria-current":"page"}},[t._v(t._s(e))]):i("a",{staticClass:"pagination-link number",class:"..."===e?"disabled":"",attrs:{href:t.pageLink(Number(e))}},[t._v("\n          "+t._s(e)+"\n        ")])])})),t._v(" "),i("li",{class:Number(t.currentPage)===t.pageCount?"next disabled":"next"},[i("a",{staticClass:"pagination-link",attrs:{href:t.pageLink(Number(t.currentPage)+1)}},[t._m(1)])])],2)])]):t._e()}),[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"icon is-small"},[e("i",{staticClass:"fa fa-chevron-left"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"icon is-small"},[e("i",{staticClass:"fa fa-chevron-right"})])}],!1,null,"7a393f6d",null);e.default=a.exports},555:function(t,e,i){"use strict";i.r(e);var s=i(723),n={name:"ExchangeContentTile",mixins:[i(642).a],props:{id:{type:String,default:""},title:{type:String,default:""},content:{type:String,default:""},date_created:{type:Number,default:null},url:{type:String,default:""},score:{type:Number,default:null},upvote_count:{type:Number,default:0},comment_count:{type:Number,default:0},answer_count:{type:Number,default:0},response_count:{type:Number,default:0},user:{type:Object,default:function(){return{name:"",picture:null}}},__typename:{type:String,default:"Post"}},computed:{timeSince:function(){return Object(s.a)(new Date(this.date_created))},actionText:function(){return this.__typename,"Posted "},repliesText:function(){var t=(this.__typename,this.comment_count||this.response_count);return"".concat(t,1===t?" Reply":" Replies")},likesText:function(){return 1===this.upvote_count?"".concat(this.upvote_count," Like"):"".concat(this.upvote_count," Likes")}}},a=i(149),r=Object(a.a)(n,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:t.visibilityChanged,expression:"visibilityChanged"}],staticClass:"column content-tile is-horizontal"},[i("a",{attrs:{href:t.url}},[i("div",{staticClass:"columns is-mobile is-vcentered"},[i("div",{staticClass:"column is-narrow"},[i("img",{attrs:{src:t.user.picture}})]),t._v(" "),i("div",{staticClass:"column"},[i("strong",[t._v(t._s(t.user.name))]),i("br"),t._v(" "),i("span",{staticClass:"de-emphasis"},[t._v(t._s(t.actionText)+" "+t._s(t.timeSince)+" ago")])])]),t._v(" "),i("div",{staticClass:"columns"},[i("div",{staticClass:"column"},[i("div",{staticClass:"content is-paddingless"},[t.title?i("strong",[t._v(t._s(t.title))]):t._e(),t._v(" "),t.content?i("div",{domProps:{innerHTML:t._s(t.content)}}):t._e()])])]),t._v(" "),i("div",{staticClass:"columns is-mobile is-vcentered"},[i("div",{staticClass:"column is-narrow"},[i("i",{staticClass:"fa fa-heart",attrs:{"aria-hidden":"true"}}),t._v(" "+t._s(t.likesText))]),t._v(" "),i("div",{staticClass:"column is-4"},[t._v(t._s(t.repliesText))]),t._v(" "),t._m(0)])])])}),[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"column has-text-right"},[i("i",{staticClass:"fa fa-comment-o",attrs:{"aria-hidden":"true"}}),t._v(" Reply")])}],!1,null,"04873dcd",null);e.default=r.exports},557:function(t,e,i){"use strict";i.r(e);var s=i(663),n=i(647),a=i(648),r=i(649),o=i(653),l=i(728),c=i(548),u=i(642),d=i(645),h=i(549),p={name:"VideoContentTile",components:{MyList:c.default,LiveNowBadge:h.default},mixins:[u.a,d.a],props:{id:{type:String,default:""},type:{type:String,default:"video"},video_description:{type:String,default:""},video_duration:{type:Number,default:null},video_is_free:{type:Boolean,default:!1},video_published_on:{type:Number,default:null},video_filmed_on:{type:Number,default:null},video_short_description:{type:String,default:""},video_title:{type:String,default:""},links:{type:Object,default:function(){return{permalink:null}}},show:{type:Object,default:function(){return{permalink:null}}},source:{type:Object,default:function(){return{type:"",id:""}}},image_override:{type:String,default:null},index:{type:Number,default:void 0},display_template:{default:"default",type:String}},data:function(){return{hasAccess:!1,isOpen:!1,showNotification:!1,notificationText:"",isLive:!1}},computed:{isLoggedIn:function(){return this.$store.getters["userIndex/isUserLoggedIn"]},isLocked:function(){return!(!this.isPublishedInFuture&&(this.video_is_free||this.isLoggedIn&&this.hasAccess))},link:function(){if(this.links.permalink){var t="";return this.source.type&&this.source.id&&(t="?source_".concat(this.source.type,"=").concat(this.source.id)),"".concat(this.links.permalink).concat(t)}return"/tv/videos/id/".concat(this.id)},showLink:function(){return this.show.permalink?this.show.permalink:this.show.id?this.$store.getters["showsIndex/getShowLink"](this.show.id):this.link},formattedDuration:function(){var t=Object(s.a)(new Date(1970,0,0,0,0,0),this.video_duration),e=Object(n.a)(t)||"",i=Object(a.a)(t),o=Object(r.a)(t);return e&&(e<10&&(e="0".concat(e)),e="".concat(e,":")),i<10&&(i="0".concat(i)),o<10&&(o="0".concat(o)),"".concat(e).concat(i,":").concat(o)},formattedDate:function(){if(this.video_filmed_on&&this.video_filmed_on>this.video_published_on){var t=Object(o.a)(this.video_filmed_on/1e3);return"".concat(Object(l.a)(t,"MMMM d")," at ").concat(Object(l.a)(t,"h:mma"))}return Object(l.a)(this.video_published_on,"MMM dd, yyyy")},isPublishedInFuture:function(){var t=new Date;return t=t.getTime(),this.video_published_on>t},isFilmedInFuture:function(){return this.video_filmed_on>this.video_published_on},description:function(){return this.video_short_description?this.video_short_description:this.video_description?this.video_description:null},imagePath:function(){return this.image_override?this.image_override:"".concat(this.id,"/thumbnail")}},created:function(){var t=this;this.$store.dispatch("showsIndex/fetchShows"),this.links.permalink||this.$store.dispatch("videosIndex/getLink",{id:this.id}).then((function(e){t.$set(t.links,"permalink",e.wp_link)})),this.$store.dispatch("videosIndex/fetchEntitlement",{id:this.id}).then((function(e){t.hasAccess=e}))},methods:{onMobileClick:function(t){t.preventDefault(),this.isOpen=!this.isOpen},onClickPlay:function(){this.isPublishedInFuture||(window.location=this.link)},triggerNotification:function(t){var e=this;this.notificationText=t,this.showNotification=!0,setTimeout((function(){e.showNotification=!1}),1e3)},liveContentChanged:function(t){this.isLive=t}}},f=i(149),v=Object(f.a)(p,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:t.visibilityChanged,expression:"visibilityChanged"}],staticClass:"column content-tile",class:[t.type,{"is-future":t.isPublishedInFuture,"is-locked":t.isLocked,"is-watched":t.isWatched}]},[i("div",{on:{click:t.onClickPlay}},["numbered"===t.display_template&&void 0!==t.index?[i("span",{staticClass:"content-tile__index"},[t._v("\n        "+t._s(t.index+1)+"\n      ")])]:t._e(),t._v(" "),i(t.isPublishedInFuture?"div":"a",{tag:"component",staticClass:"image",attrs:{href:t.isPublishedInFuture?null:t.link}},[i("live-now-badge",{attrs:{"content-id":t.id,position:"bottom-left"},on:{liveContentChanged:t.liveContentChanged}}),t._v(" "),i("ImageChef",{attrs:{title:t.video_title,dimensions:[664,null],src:t.imagePath,"max-bytes":{webp:25e3,jpeg:3e4}}}),t._v(" "),t.isPublishedInFuture||!t.video_duration||t.isLive?t._e():i("div",{staticClass:"content-tile__duration"},[t._v("\n        "+t._s(t.formattedDuration)+"\n      ")]),t._v(" "),i("div",{staticClass:"button-container"},[t.isLocked?t._e():i("MyList",{attrs:{content_id:t.id,content_type:t.type,button_text:[],button_type:"round"},on:{trigger_notification:t.triggerNotification}})],1),t._v(" "),t.isWatched?i("div",{staticClass:"watched"},[i("i",{staticClass:"fa fa-check"}),t._v(" WATCHED")]):t._e(),t._v(" "),t.isPublishedInFuture?t._e():i("div",{staticClass:"content-tile__play"},[i("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 81 81"}},[i("g",{attrs:{fill:"none","fill-rule":"evenodd",stroke:"#FFF",transform:"translate(3 3)"}},[i("circle",{attrs:{cx:"37.5",cy:"37.5",r:"39","stroke-width":"3"}}),t._v(" "),i("path",{attrs:{fill:"#FFF","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M55.5 37.031L27 53.063V21z"}})])])]),t._v(" "),t.isPublishedInFuture?i("div",{staticClass:"content-tile__coming-soon"},[i("span",[t._v("Coming Soon")])]):t._e(),t._v(" "),i("div",{staticClass:"content-tile__notification",class:{show:t.showNotification}},[i("div",{staticClass:"content-tile__notification-text"},[t._v(t._s(t.notificationText))])]),t._v(" "),i("div",{staticClass:"content-tile__locked",class:{"is-hidden":t.isPublishedInFuture||!t.isLocked}},[i("svg",{attrs:{viewBox:"0 0 21 28",xmlns:"http://www.w3.org/2000/svg"}},[i("g",{attrs:{stroke:"#FFF",fill:"none","fill-rule":"evenodd"}},[i("path",{attrs:{d:"M5.89 12.012h9.22V6.358a4.61 4.61 0 1 0-9.22 0v5.654z","stroke-width":"3.032"}}),t._v(" "),i("path",{attrs:{d:"M2.798 10.266c-1.03 0-1.865.835-1.865 1.866v13.07c0 1.03.835 1.865 1.865 1.865h15.404c1.03 0 1.865-.835 1.865-1.865v-13.07c0-1.03-.835-1.866-1.865-1.866H2.798zm7.702 4.668a2.77 2.77 0 0 1 2.77 2.77v1.925a2.77 2.77 0 0 1-5.54 0v-1.925a2.77 2.77 0 0 1 2.77-2.77z","stroke-width":"1.866",fill:"#FFF"}})])])])],1),t._v(" "),i("div",{staticClass:"progress"},[i("div",{style:"width: "+t.progression+"%"})]),t._v(" "),i("div",{staticClass:"meta"},[i("div",{staticClass:"additional"},[t.show?[i("a",{staticClass:"show-link",attrs:{href:t.showLink},domProps:{innerHTML:t._s(t.show.show_name)}}),t._v(" "),t.show.show_name?i("span",{staticClass:"dot-separator"},[t._v("·")]):t._e()]:t._e(),t._v(" "),i("span",{class:{"show-link":t.isFilmedInFuture}},[t._v(t._s(t.formattedDate))])],2),t._v(" "),i(t.isPublishedInFuture?"div":"a",{tag:"component",attrs:{href:t.isPublishedInFuture?null:t.link}},[i("h3",{staticClass:"is-size-5",domProps:{innerHTML:t._s(t.video_title)}}),t._v(" "),i("p",{domProps:{innerHTML:t._s(t.description)}})])],1)],2)])}),[],!1,null,"4463c016",null);e.default=v.exports},558:function(t,e,i){"use strict";i.r(e);var s=i(639),n=i(6),a={components:{VueAutosuggest:i(654).a},mixins:[Object(n.a)({connector:s.a})],props:{autocompleteResultsAmount:{type:Number,default:5,required:!1},autocompleteIndex:{type:String,default:"",required:!1},delay:{type:Number,default:800,required:!1},initialSearchText:{type:String,default:"",required:!1},placeholder:{type:String,default:"",required:!1}},data:function(){return{localQuery:"",timerId:0}},mounted:function(){this.setFocus()},destroyed:function(){this.clearTimerId()},methods:{clearSearchText:function(){this.localQuery="",this.state.refine(""),this.$refs.inputField.internalValue="",this.clearTimerId(),this.$emit("changeQuery",{refine:this.state.refine,query:this.localQuery})},clearTimerId:function(){this.timerId&&clearTimeout(this.timerId)},getSuggestionValue:function(t){return t.item.query},indicesToSuggestions:function(t){return t.map((function(t){return{data:t.hits}}))},onAutocompleteInput:function(t){this.clearTimerId();var e=this.$refs.inputField,i=this.onEnter;this.timerId=setTimeout((function(){t(e.internalValue),i(t)}),this.delay)},onEnter:function(t){this.localQuery=this.$refs.inputField.internalValue,this.state.refine(this.localQuery),this.$emit("changeQuery",{refine:this.state.refine,query:this.localQuery})},onSelect:function(t){t&&t.item&&t.item.query&&(this.localQuery=t.item.query.toString(),this.$refs.inputField.internalValue=this.localQuery,this.state.refine(this.localQuery),this.$emit("changeQuery",{refine:this.state.refine,query:this.localQuery}))},setFocus:function(){if(this.$refs.inputField){var t=this.$refs.inputField.$el.querySelector("input");t.focus(),""!==this.initialSearchText&&(this.localQuery=this.initialSearchText,this.$refs.inputField.internalValue=this.localQuery,this.state.refine(this.localQuery),this.$emit("changeQuery",{refine:this.state.refine,query:this.localQuery}),t.value=this.localQuery,t.dispatchEvent(new Event("input")))}else{var e=this;setTimeout((function(){e.setFocus()}),300)}}}},r=i(149),o=Object(r.a)(a,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("ais-index",{attrs:{"index-name":t.autocompleteIndex}},[i("ais-configure",{attrs:{hitsPerPage:t.autocompleteResultsAmount,restrictSearchableAttributes:["query"]}}),t._v(" "),i("ais-autocomplete",{scopedSlots:t._u([{key:"default",fn:function(e){e.currentRefinement;var s=e.indices,n=e.refine;return[i("vue-autosuggest",{ref:"inputField",attrs:{"input-props":{placeholder:t.placeholder},"get-suggestion-value":t.getSuggestionValue,suggestions:t.indicesToSuggestions(s)},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onEnter(n)},input:function(e){return t.onAutocompleteInput(n)},selected:t.onSelect},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.suggestion;return[s.item.query?i("ais-highlight",{attrs:{hit:s.item,attribute:"query"}}):t._e()]}}],null,!0)})]}}])})],1),t._v(" "),""!==t.localQuery?i("div",{staticClass:"clear-search-text",on:{click:t.clearSearchText}}):t._e()],1)}),[],!1,null,null,null);e.default=o.exports},560:function(t,e,i){"use strict";i.r(e);var s=i(728),n=i(642),a={name:"IssueContentTile",components:{MyList:i(548).default},mixins:[n.a],props:{id:{type:String,default:""},type:{type:String,default:"issue"},issue_description:{type:String,default:""},issue_page_count:{type:Number,default:0},issue_published_on:{type:Number,default:null},issue_title:{type:String,default:""},links:{type:Object,default:function(){return{permalink:null}}},source:{type:Object,default:function(){return{type:"",id:""}}},index:{type:Number,default:void 0},display_template:{default:"default",type:String}},data:function(){return{isOpen:!1,showNotification:!1,notificationText:"",watchedThreshold:.9,hasAccess:!1}},computed:{isLoggedIn:function(){return this.$store.getters["userIndex/isUserLoggedIn"]},link:function(){if(this.links.permalink){var t="";return this.source.type&&this.source.id&&(t="?source_".concat(this.source.type,"=").concat(this.source.id)),"".concat(this.links.permalink).concat(t)}return"/issues/id/".concat(this.id)},formattedDate:function(){return Object(s.a)(this.issue_published_on,"MMM dd, yyyy")},isLocked:function(){return!this.isLoggedIn||!this.hasAccess}},created:function(){var t=this;this.$store.dispatch("issuesIndex/getData",{id:this.id}).then((function(){t.hasAccess=t.$store.getters["issuesIndex/hasAccess"](t.id)})),this.links.permalink||this.$store.dispatch("issuesIndex/getLink",{id:this.id}).then((function(e){t.$set(t.links,"permalink",e.wp_link)}))},methods:{onMobileClick:function(t){t.preventDefault(),this.isOpen=!this.isOpen},onClickPlay:function(){window.location=this.link},triggerNotification:function(t){var e=this;this.notificationText=t,this.showNotification=!0,setTimeout((function(){e.showNotification=!1}),1e3)}}},r=i(149),o=Object(r.a)(a,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:t.visibilityChanged,expression:"visibilityChanged"}],staticClass:"column content-tile",class:t.type},[i("div",{on:{click:t.onClickPlay}},["numbered"===t.display_template&&void 0!==t.index?[i("span",{staticClass:"content-tile__index"},[t._v("\n        "+t._s(t.index+1)+"\n      ")])]:t._e(),t._v(" "),i("a",{staticClass:"image",attrs:{href:t.link}},[i("ImageChef",{attrs:{title:t.issue_title,dimensions:[664,null],src:t.id+"/hero","max-bytes":{webp:25e3,jpeg:3e4}}}),t._v(" "),t.issue_page_count?i("div",{staticClass:"content-tile__duration is-uppercase"},[t._v(t._s(t.issue_page_count)+" pages")]):t._e(),t._v(" "),i("div",{staticClass:"button-container"},[t.isLocked?t._e():i("MyList",{attrs:{content_id:t.id,content_type:t.type,button_text:[],button_type:"round"},on:{trigger_notification:t.triggerNotification}})],1),t._v(" "),i("div",{staticClass:"content-tile__play"},[i("svg",{attrs:{viewBox:"0 0 58 58"}},[i("g",{attrs:{"fill-rule":"evenodd",fill:"none"}},[i("circle",{attrs:{cx:"26.25",cy:"26.25",r:"27.5",transform:"translate(3 3)","stroke-width":"2.5",stroke:"#FFF"}}),t._v(" "),i("path",{attrs:{d:"M23.615 29.858c0 .625.508 1.132 1.132 1.132h8.902a1.132 1.132 0 000-2.264h-8.902c-.624 0-1.132.507-1.132 1.132m1.132-3.483h2.175a1.132 1.132 0 000-2.264h-2.175a1.132 1.132 0 000 2.264zm8.902 7.037h-8.96a1.132 1.132 0 000 2.264h8.96a1.132 1.132 0 000-2.264",fill:"#FFF"}}),t._v(" "),i("path",{attrs:{d:"M37.29 38.667H21.265V18.451h9.483v5.351c0 .626.507 1.132 1.132 1.132h5.412v13.732zm-4.277-18.641l2.677 2.646h-2.677zm6.181 2.954a1.09 1.09 0 00-.122-.15l-6.365-6.288c-.008-.008-.02-.014-.028-.023a1.13 1.13 0 00-.8-.33H20.132A1.13 1.13 0 0019 17.319v22.478c0 .625.507 1.132 1.132 1.132h18.29c.625 0 1.132-.507 1.132-1.132V23.803c0-.325-.14-.617-.36-.823z",fill:"#fff"}})])])]),t._v(" "),i("div",{staticClass:"content-tile__notification",class:{show:t.showNotification}},[i("div",{staticClass:"content-tile__notification-text"},[t._v(t._s(t.notificationText))])]),t._v(" "),i("div",{staticClass:"content-tile__locked",class:{"is-hidden":t.hasAccess}},[i("svg",{attrs:{viewBox:"0 0 21 28",xmlns:"http://www.w3.org/2000/svg"}},[i("g",{attrs:{stroke:"#FFF",fill:"none","fill-rule":"evenodd"}},[i("path",{attrs:{d:"M5.89 12.012h9.22V6.358a4.61 4.61 0 1 0-9.22 0v5.654z","stroke-width":"3.032"}}),t._v(" "),i("path",{attrs:{d:"M2.798 10.266c-1.03 0-1.865.835-1.865 1.866v13.07c0 1.03.835 1.865 1.865 1.865h15.404c1.03 0 1.865-.835 1.865-1.865v-13.07c0-1.03-.835-1.866-1.865-1.866H2.798zm7.702 4.668a2.77 2.77 0 0 1 2.77 2.77v1.925a2.77 2.77 0 0 1-5.54 0v-1.925a2.77 2.77 0 0 1 2.77-2.77z","stroke-width":"1.866",fill:"#FFF"}})])])])],1),t._v(" "),i("div",{staticClass:"meta"},[i("div",{staticClass:"additional"},[i("span",[t._v(t._s(t.formattedDate))])]),t._v(" "),i("a",{attrs:{href:t.link}},[i("h3",{staticClass:"is-size-5",domProps:{innerHTML:t._s(t.issue_title)}}),t._v(" "),i("p",{domProps:{innerHTML:t._s(t.issue_description)}})])])],2)])}),[],!1,null,"827d8454",null);e.default=o.exports},561:function(t,e,i){"use strict";i.r(e);var s=i(692),n=i(642),a={name:"ShowContentTile",components:{LiveNowBadge:i(549).default},mixins:[n.a],props:{id:{type:String,default:""},type:{type:String,default:"show"},data:{type:Object,default:function(){return{}}},links:{type:Object,default:function(){return{permalink:null}}}},data:function(){return{hasMadeImpression:!1,showNotification:!1,notificationText:""}},computed:{link:function(){return this.links&&Object.prototype.hasOwnProperty.call(this.links,"permalink")&&this.links.permalink?this.links.permalink:"/tv/shows/id/".concat(this.data.show_id)},hasNewEpisodes:function(){var t=new Date(this.$store.getters["showsIndex/getShowUpdatedOn"](this.data.show_id));return Object(s.a)(new Date,t)<5}},created:function(){this.$store.dispatch("showsIndex/fetchShows")},methods:{triggerNotification:function(t){var e=this;this.notificationText=t,this.showNotification=!0,setTimeout((function(){e.showNotification=!1}),1e3)}}},r=i(149),o=Object(r.a)(a,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:t.visibilityChanged,expression:"visibilityChanged"}],staticClass:"column content-tile"},[i("a",{attrs:{href:t.link}},[i("div",{staticClass:"image"},[i("live-now-badge",{attrs:{"content-id":t.id,"show-latest-episode":t.hasNewEpisodes,position:"top-right"}}),t._v(" "),i("ImageChef",{attrs:{title:t.data.show_name,dimensions:[328,492],src:t.data.show_id+"/poster"}}),t._v(" "),i("div",{staticClass:"metadata"},[i("h3",{staticClass:"is-size-5",domProps:{innerHTML:t._s(t.data.show_name)}}),t._v(" "),i("p",{domProps:{innerHTML:t._s(t.data.show_description)}})]),t._v(" "),i("div",{staticClass:"content-tile__notification",class:{show:t.showNotification}},[i("div",{staticClass:"content-tile__notification-text"},[t._v(t._s(t.notificationText))])])],1)])])}),[],!1,null,"d26daf94",null);e.default=o.exports},562:function(t,e,i){"use strict";i.r(e);var s={name:"CollectionContentTile",mixins:[i(642).a],props:{type:{type:String,default:"collection"},title:{type:String,default:""},link_override:{type:[Object,String],default:function(){return{}}},link_collection:{type:String,default:""},image:{type:String,default:""},label:{type:String,default:""}},data:function(){return{hasMadeImpression:!1}},computed:{tileLink:function(){return this.link_override?this.link_override.url:this.link_collection}}},n=i(149),a=Object(n.a)(s,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:t.visibilityChanged,expression:"visibilityChanged"}],staticClass:"column content-tile is-full-mobile"},[i("a",{attrs:{href:t.tileLink}},[i("div",{staticClass:"image"},[i("ImageChef",{attrs:{dimensions:[280,420],src:t.image}}),t._v(" "),i("div",{staticClass:"content-tile__play"},[i("div",{staticClass:"collection-label"},[i("p",[t._v(t._s(t.label))]),t._v(" "),i("svg",{attrs:{width:"20",height:"12",viewBox:"0 0 20 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[i("path",{attrs:{d:"M19.1844 6.53033C19.4773 6.23744 19.4773 5.76256 19.1844 5.46967L14.4114 0.696699C14.1185 0.403806 13.6436 0.403806 13.3508 0.696699C13.0579 0.989593 13.0579 1.46447 13.3508 1.75736L17.5934 6L13.3508 10.2426C13.0579 10.5355 13.0579 11.0104 13.3508 11.3033C13.6436 11.5962 14.1185 11.5962 14.4114 11.3033L19.1844 6.53033ZM6.55669e-08 6.75L18.6541 6.75L18.6541 5.25L-6.55672e-08 5.25L6.55669e-08 6.75Z",fill:"white"}})])])])],1),t._v(" "),i("div",{staticClass:"collection-title",domProps:{innerHTML:t._s(t.title)}})])])}),[],!1,null,"9727e046",null);e.default=a.exports},563:function(t,e,i){"use strict";i.r(e);var s=i(692),n={name:"DocumentaryContentTile",mixins:[i(642).a],props:{id:{type:String,default:""},type:{type:String,default:"show"},data:{type:Object,default:function(){return{}}},links:{type:Object,default:function(){return{permalink:null}}}},data:function(){return{isOpen:!1,hasMadeImpression:!1}},computed:{link:function(){return this.links&&Object.prototype.hasOwnProperty.call(this.links,"permalink")?this.links.permalink:"/tv/shows/id/".concat(this.data.show_id)},hasNewEpisodes:function(){var t=new Date(this.$store.getters["showsIndex/getShowUpdatedOn"](this.data.show_id));return Object(s.a)(new Date,t)<5},episodeCount:function(){return null}},created:function(){this.$store.dispatch("showsIndex/fetchShows")},methods:{onMobileClick:function(t){t.preventDefault(),this.isOpen=!this.isOpen}}},a=i(149),r=Object(a.a)(n,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:t.visibilityChanged,expression:"visibilityChanged"}],staticClass:"column content-tile is-full-mobile"},[i("a",{attrs:{href:t.link}},[i("div",{staticClass:"image"},[i("ImageChef",{attrs:{title:t.data.show_name,dimensions:[656,null],src:t.data.show_id+"/screenshot"}}),t._v(" "),i("div",{staticClass:"metadata"},[i("div",[i("h3",{staticClass:"is-size-5",domProps:{innerHTML:t._s(t.data.show_name)}}),t._v(" "),i("p",{domProps:{innerHTML:t._s(t.data.show_description)}}),t._v(" "),i("button",{staticClass:"play button primary"},[i("span",[i("i",{staticClass:"fa fa-play",attrs:{"aria-hidden":"true"}}),t._v(" "),t.episodeCount?[t._v(t._s(t.episodeCount)+" videos")]:[t._v("Watch now")]],2)])])])],1)])])}),[],!1,null,"0531158d",null);e.default=r.exports},564:function(t,e,i){"use strict";i.r(e);var s=i(728),n={name:"EditorialContentTile",mixins:[i(642).a],props:{id:{type:Number,default:null},type:{type:String,default:"editorial"},date:{type:Number,default:null},image:{type:String,default:null},publication:{type:String,default:null},title:{type:String,default:null},links:{type:Object,default:function(){return{permalink:null}}}},computed:{formattedDate:function(){return Object(s.a)(this.date,"MMM dd, yyyy")}}},a=i(149),r=Object(a.a)(n,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:t.visibilityChanged,expression:"visibilityChanged"}],staticClass:"column content-tile is-full-mobile"},[i("a",{attrs:{href:t.links.permalink,target:t.links.target}},[i("div",[i("div",{staticClass:"image"},[i("ImageChef",{attrs:{dimensions:[439,null],src:t.image}})],1),t._v(" "),i("div",{staticClass:"meta"},[i("div",{staticClass:"additional"},[i("span",{staticClass:"publication",domProps:{innerHTML:t._s(t.publication)}}),t._v(" "),i("span",{staticClass:"dot-separator"},[t._v("·")]),t._v(" "),i("span",[t._v(t._s(t.formattedDate))])]),t._v(" "),i("h3",{staticClass:"is-size-5",domProps:{innerHTML:t._s(t.title)}})])])])])}),[],!1,null,"0e9f7a22",null);e.default=r.exports},565:function(t,e,i){"use strict";i.r(e);var s={name:"PersonContentTile",mixins:[i(642).a],props:{id:{type:Number,default:null},type:{type:String,default:"person"},first_name:{type:String,default:null},last_name:{type:String,default:null},photo:{type:String,default:null},links:{type:Object,default:function(){return{permalink:null}}}},data:function(){return{search_url:"".concat(this.links.search_field_url,"/?parameters_query=")+"".concat(this.first_name,"+").concat(this.last_name,"&search="),full_name:"".concat(this.first_name," ").concat(this.last_name)}}},n=i(149),a=Object(n.a)(s,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:t.visibilityChanged,expression:"visibilityChanged"}],staticClass:"column content-tile"},[i("a",{attrs:{href:t.search_url}},[i("div",[i("div",{staticClass:"image"},[i("ImageChef",{attrs:{dimensions:[200,200],src:t.photo}})],1),t._v(" "),i("div",{staticClass:"meta"},[i("h3",{domProps:{innerHTML:t._s(t.full_name)}})])])])])}),[],!1,null,"8271ba4a",null);e.default=a.exports},566:function(t,e,i){"use strict";i.r(e);var s={name:"StaffContentTile",mixins:[i(642).a],props:{id:{type:Number,default:null},type:{type:String,default:"staff_member"},name:{type:String,default:null},job_title:{type:String,default:null},image:{type:String,default:null},image_hover:{type:String,default:null}},data:function(){return{isHover:!1,isTouch:!1}}},n=i(149),a=Object(n.a)(s,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:t.visibilityChanged,expression:"visibilityChanged"}],staticClass:"column content-tile"},[i("a",{on:{touchstart:function(e){t.isTouch=!0},mouseover:function(e){t.isHover=!0},mouseout:function(e){t.isHover=!1,t.isTouch=!1}}},[i("div",[i("div",{staticClass:"image"},[!t.isTouch&&t.isHover&&t.image_hover?i("ImageChef",{attrs:{dimensions:[297,297],src:t.image_hover,format:"gif"}}):i("ImageChef",{attrs:{dimensions:[297,297],src:t.image}})],1),t._v(" "),i("div",{staticClass:"meta"},[i("h3",[t._v(t._s(t.name))]),t._v(" "),i("p",[t._v(t._s(t.job_title))])])])])])}),[],!1,null,"5a383d61",null);e.default=a.exports},567:function(t,e,i){"use strict";i.r(e);var s=i(639),n=i(6),a={mixins:[Object(n.a)({connector:s.a})],props:{delay:{type:Number,default:1e3,required:!1},placeholder:{type:String,default:"",required:!1}},data:function(){return{localQuery:"",timerId:0}},computed:{query:{get:function(){return this.localQuery},set:function(t){var e=this;this.clearTimerId(),this.localQuery=t,this.timerId=setTimeout((function(){e.state.refine(e.localQuery),e.$emit("changeQuery",{refine:e.state.refine,query:e.localQuery})}),this.delay)}}},mounted:function(){this.$refs.inputField.focus()},destroyed:function(){this.clearTimerId()},methods:{clearSearchText:function(){this.query="",this.localQuery="",this.state.refine(""),this.clearTimerId(),this.$emit("changeQuery",{refine:this.state.refine,query:this.localQuery})},clearTimerId:function(){this.timerId&&clearTimeout(this.timerId)}}},r=i(149),o=Object(r.a)(a,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],ref:"inputField",attrs:{placeholder:t.placeholder,type:"search"},domProps:{value:t.query},on:{input:function(e){e.target.composing||(t.query=e.target.value)}}}),t._v(" "),""!==t.localQuery?i("button",{staticClass:"ais-SearchBox-reset",attrs:{type:"reset",title:"Clear"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.clearSearchText()}}}):t._e()])}),[],!1,null,null,null);e.default=o.exports},569:function(t,e,i){"use strict";i.r(e);var s,n=i(662),a=i.n(n),r=i(557),o=i(560),l=i(561),c=i(562),u=i(563),d=i(564),h=i(565),p=i(566),f=i(555),v={name:"TransitionExpand",methods:{enter:function(t){var e=getComputedStyle(t).width;t.style.width=e,t.style.position="absolute",t.style.visibility="hidden",t.style.height="auto";var i=getComputedStyle(t).height;t.style.width=null,t.style.position=null,t.style.visibility=null,t.style.height=0,getComputedStyle(t).height,requestAnimationFrame((function(){t.style.height=i}))},afterEnter:function(t){t.style.height="auto"},leave:function(t){var e=getComputedStyle(t).height;t.style.height=e,getComputedStyle(t).height,setTimeout((function(){t.style.height=0}))}}},g=i(149),m=Object(g.a)(v,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("transition",{attrs:{name:"expand"},on:{enter:t.enter,"after-enter":t.afterEnter,leave:t.leave}},[t._t("default")],2)}),[],!1,null,"32950f0a",null).exports,_=i(554),y=i(87),b=i.n(y),w=i(11);function C(t,e,i,s,n,a,r){try{var o=t[a](r),l=o.value}catch(t){return void i(t)}o.done?e(l):Promise.resolve(l).then(s,n)}function x(t){return function(){var e=this,i=arguments;return new Promise((function(s,n){var a=t.apply(e,i);function r(t){C(a,s,n,r,o,"next",t)}function o(t){C(a,s,n,r,o,"throw",t)}r(void 0)}))}}function k(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=t&&("undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"]);if(null!=i){var s,n,a=[],r=!0,o=!1;try{for(i=i.call(t);!(r=(s=i.next()).done)&&(a.push(s.value),!e||a.length!==e);r=!0);}catch(t){o=!0,n=t}finally{try{r||null==i.return||i.return()}finally{if(o)throw n}}return a}}(t,e)||function(t,e){if(t){if("string"==typeof t)return S(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?S(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,s=new Array(e);i<e;i++)s[i]=t[i];return s}var I=Object.prototype.hasOwnProperty,O=function(t){return window.fetch(t,{credentials:"same-origin",headers:{"x-api-key":window.rv_config.get("key")}}).then((function(t){if(t.ok)return t.json();throw new Error("Network response was not ok.")}))},M={name:"Collection",components:{VueInfiniteLoading:a.a,TransitionExpand:m,VideoContentTile:r.default,IssueContentTile:o.default,ShowContentTile:l.default,CollectionContentTile:c.default,DocumentaryContentTile:u.default,EditorialContentTile:d.default,PersonContentTile:h.default,StaffContentTile:p.default,ExchangeContentTile:f.default,Pagination:_.default},props:{title:{type:String,default:""},additional_content:{type:String,default:""},id:{type:String,default:""},type:{type:String,default:""},max:{type:Number,default:null},showMoreEnabled:{type:Boolean,default:!1},link:{type:Object,default:function(){return{url:null,title:null}}},data:{type:Array,default:function(){return[]}},layout:{type:Object,default:null},source:{type:Object,default:function(){return{type:"",id:""}}},isInfinite:{type:Boolean,default:!1},isSlider:{type:Boolean,default:!1},isRandomized:{type:Boolean,default:!1},paged:{type:Boolean,default:!1},page:{type:Number,default:1},perPage:{type:Number,default:24},display_template:{type:String,default:"default"}},data:function(){return{response:{},items:[],itemsCount:0,isLoading:!0,isHidden:!1,isShowMoreOpen:!1,isUpsell:!1,columns:3,nextPage:4,sliderConfig:{showLeftScroll:!1,showRightScroll:!0,itemWidth:308,totalWidth:0,containerWidth:1360}}},computed:{hasSeeAll:function(){return this.hasShowMore?this.link.url&&this.items.length>2*this.max:this.link.url&&this.items.length>this.max},hasShowMore:function(){return this.showMoreEnabled&&this.items.length>this.max},emptyMoreCards:function(){return this.showMoreItems.length%this.columns?this.columns-this.showMoreItems.length%this.columns:0},linkTitle:function(){return this.link.title?this.link.title:"See all"},filteredItems:function(){var t=this.items;return this.max&&!this.isInfinite&&(t=this.items.slice(0,this.max)),this.isRandomized&&(t=function(t){for(var e,i,s=t.length;0!==s;)i=Math.floor(Math.random()*s),e=t[s-=1],t[s]=t[i],t[i]=e;return t}(t)),t},showMoreItems:function(){return this.items.slice(this.max,2*this.max)},tileClass:function(){var t=[this.type,this.display_template?"".concat(this.display_template,"-tile"):""];return Object.entries(this.columns).forEach((function(e){var i=(12/e[1]).toString(10).replace(".","_");t.push("is-".concat(i,"-").concat(e[0]))})),t.join(" ")},scrollable:function(){return this.sliderConfig.totalWidth>this.sliderConfig.containerWidth},communityURL:function(){return w.a.get("vanilla_url")}},created:function(){this.isSlider?this.columns={}:this.$_setColumns(),"exchange"===this.type?(this.$_fetchExchangeContent(),this.sliderConfig.itemWidth=393):this.data.length?(this.items=this.data,this.isLoading=!1):(this.max&&(this.items=new Array(parseInt(this.max,10))),"show"===this.type||"documentary"===this.type?this.$_fetchShows():"continue"===this.type||"continue_watching"===this.type?this.$_fetchContinueWatching():"my-shows"===this.type||"my_shows"===this.type?this.$_fetchMyShows():"my-videos"===this.type||"my_videos"===this.type?this.$_fetchMyVideos():"my-issues"!==this.type&&"my_issues"!==this.type||this.$_fetchMyIssues())},mounted:function(){var t=this;this.filteredItems.forEach((function(){t.sliderConfig.totalWidth+=t.sliderConfig.itemWidth})),this.sliderConfig.containerWidth=document.getElementById("content").offsetWidth,window.addEventListener("resize",(function(){t.sliderConfig.containerWidth=document.getElementById("content").offsetWidth}))},methods:{enter:function(t){var e=getComputedStyle(t),i=e.height,s=e.width;t.style.width=s,t.style.position="absolute",t.style.visibility="hidden",t.style.height="auto",t.style.width=null,t.style.position=null,t.style.visibility=null,t.style.height=0,setTimeout((function(){t.style.height=i}))},afterEnter:function(t){t.style.height="auto"},leave:function(t){var e=getComputedStyle(t).height;t.style.height=e,setTimeout((function(){t.style.height=0}))},whichComponent:function(t){if(!t)return null;switch(I.call(t,"type")?t.type:I.call(t,"__typename")?t.__typename.toLowerCase():t.data.type){case"staff":return"StaffContentTile";case"editorial":return"EditorialContentTile";case"people":return"PersonContentTile";case"show":return"documentary"===this.type?"DocumentaryContentTile":"ShowContentTile";case"collection":return"CollectionContentTile";case"issue":return"IssueContentTile";case"post":case"question":case"communitypost":return"ExchangeContentTile";case"video":default:return"VideoContentTile"}},infiniteHandler:function(t){var e=this;if(this.isInfinite){var i="";"topic"===this.source.type&&(i="&rv_topics_slug=".concat(this.source.id)),window.fetch("/wp-json/wp/v2/video?per_page=6&page=".concat(this.nextPage).concat(i,"&rv_products_slug=tv"),{credentials:"same-origin",headers:{"x-api-key":window.rv_config.get("key")}}).then((function(t){if(t.ok)return t.json();throw new Error("Network response was not ok.")})).then((function(i){i&&i.length?(e.nextPage+=1,i.forEach((function(t){var i={id:t.acf.content_id,type:t.type,video_description:t.acf.description,video_duration:parseInt(t.acf.duration,10),video_is_free:"free"===t.acf.price,video_published_on:Date.parse(t.date),video_short_description:t.acf.short_description,video_title:t.title.rendered,links:{permalink:t.link},show:{id:t.acf.show_id,show_name:e.$store.getters["showsIndex/getShowTitle"](t.acf.show_id)},source:e.source};e.filteredItems.push(i)})),t.loaded()):t.complete()})).catch((function(){t.complete()}))}},scrollHandler:function(t){this.sliderConfig.showLeftScroll=t.target.scrollLeft>0,this.sliderConfig.showRightScroll=t.target.scrollLeft<t.target.scrollWidth-t.target.offsetWidth},scrollPrev:function(){window.dataLayer.push({event:"Collection",label:"previous",action:"scroll_arrow"}),this.$refs.tileContainer.scrollTo?this.$refs.tileContainer.scrollTo({left:this.$refs.tileContainer.scrollLeft-this.sliderConfig.itemWidth,behavior:"smooth"}):this.$refs.tileContainer.scrollLeft-=this.sliderConfig.itemWidth},scrollNext:function(){window.dataLayer.push({event:"Collection",label:"next",action:"scroll_arrow"}),this.$refs.tileContainer.scrollTo?this.$refs.tileContainer.scrollTo({left:this.$refs.tileContainer.scrollLeft+this.sliderConfig.itemWidth,behavior:"smooth"}):this.$refs.tileContainer.scrollLeft+=this.sliderConfig.itemWidth},$_setColumns:function(){var t=this.max;if(t||(t=1/0),this.layout)this.columns=this.layout;else switch(this.type){case"documentary":this.columns={desktop:Math.min(t,2),tablet:2,mobile:1};break;case"show":case"my-shows":case"issue":this.columns={desktop:Math.min(t,4),tablet:2,mobile:2};break;case"collection":this.columns={desktop:Math.min(t,4),tablet:2,mobile:1};break;case"people":this.columns={desktop:Math.min(t,5),tablet:2,mobile:1};break;case"staff":this.columns={desktop:Math.min(t,4),tablet:2,mobile:1};break;default:this.columns={desktop:Math.min(t,3),tablet:3,mobile:1}}},$_flatten:function(t,e){var i=[],s=[];return I.call(t,"collection")&&I.call(t.collection,"items")&&(t.collection.items.forEach((function(t){t.data.some((function(s){return"type"===s.name&&s.value===e&&(i.push({data:t.data,links:t.links}),!0)}))})),i.forEach((function(t){var i={data:{},links:{},key:null};t.data.forEach((function(t){I.call(i.data,t.name)?(Array.isArray(i.data[t.name])||(i.data[t.name]=[i.data[t.name]]),i.data[t.name].push(t.value)):i.data[t.name]=t.value})),I.call(t,"links")&&t.links&&t.links.forEach((function(t){I.call(i.links,t.rel)?(Array.isArray(i.links[t.rel])||(i.links[t.rel]=[i.links[t.rel]]),i.links[t.rel].push(t.href)):i.links[t.rel]=t.href})),I.call(i.data,"".concat(e,"_id"))&&(i.key=i.data["".concat(e,"_id")],i.id=i.data["".concat(e,"_id")]),s.push(i)}))),s},$_fetchShows:function(){var t=this,e="".concat(window.rv_config.get("platform"),"collections/shows/").concat(this.id);O(e).then((function(e){t.items=t.$_flatten(e,"show"),t.isLoading=!1})).catch((function(){}))},$_fetchContinueWatching:function(){var t=this;this.$store.dispatch("userIndex/fetchUser").then((function(){t.$store.getters["userIndex/isUserLoggedIn"]&&O("/rv/television/resume.json").then((function(e){t.items=t.$_flatten(e,"video"),t.items.forEach((function(e){Object.entries(e.data).forEach((function(t){if(t[0].startsWith("show_")){I.call(e,"show")||(e.show={});var i=k(t,2);e.show[t[0]]=i[1]}var s=k(t,2);e[t[0]]=s[1]})),e.id=e.video_id,I.call(e,"show")&&(e.show.id=e.show.show_id),delete e.data,delete e.key,t.sliderConfig.totalWidth+=t.sliderConfig.itemWidth})),t.isLoading=!1,t.items.length||(t.isHidden=!0)})).catch((function(){t.isHidden=!0}))}))},$_fetchMyShows:function(){var t=this;this.$store.dispatch("userIndex/fetchUser").then((function(){t.$store.getters["userIndex/isUserLoggedIn"]?t.$store.dispatch("myListIndex/fetchWithShow").then((function(e){t.items=[],e.included&&e.included.forEach((function(e){var i={type:"show",data:e.attributes,id:e.id};i.data.type="show",t.items.push(i),t.sliderConfig.totalWidth+=t.sliderConfig.itemWidth})),t.isLoading=!1,t.items.length||(t.isUpsell=!0)})).catch((function(){t.isHidden=!0})):t.isHidden=!0}))},$_fetchMyVideos:function(){var t=this;this.$store.dispatch("userIndex/fetchUser").then((function(){t.$store.getters["userIndex/isUserLoggedIn"]?t.$store.dispatch("myListIndex/fetchWithVideo",{includeTotal:t.paged,page:t.page>1?(t.page-1)*t.perPage:t.page-1,perPage:t.perPage}).then((function(e){t.items=[],e.children&&e.children.length&&e.children.forEach((function(e){t.items.push({id:e.id,type:e.type.toLowerCase(),video_description:e.description,video_duration:e.duration,video_is_free:e.is_free,video_published_on:e.published_on,video_filmed_on:e.filmed_on,video_short_description:e.short_description,video_title:e.title,show:e.show?{id:e.show.id,show_name:e.show.title,permalink:"/shows/".concat(e.show.title)}:null}),t.sliderConfig.totalWidth+=t.sliderConfig.itemWidth})),e.pageInfo&&e.pageInfo.total&&(t.itemsCount=e.pageInfo.total),t.isLoading=!1,t.items.length||(t.isUpsell=!0)})).catch((function(){t.isHidden=!0})):t.isHidden=!0}))},$_fetchMyIssues:function(){var t=this;this.$store.dispatch("userIndex/fetchUser").then((function(){t.$store.getters["userIndex/isUserLoggedIn"]?t.$store.dispatch("myListIndex/fetchWithIssue",{includeTotal:t.paged,page:t.page>1?(t.page-1)*t.perPage:t.page-1,perPage:t.perPage}).then((function(e){t.items=[],e.children&&e.children.length&&e.children.forEach((function(e){t.items.push({id:e.id,type:e.type.toLowerCase(),issue_description:e.summary,issue_page_count:e.page_count,issue_published_on:e.published_on,issue_title:e.title}),t.sliderConfig.totalWidth+=t.sliderConfig.itemWidth})),e.pageInfo.total&&(t.itemsCount=e.pageInfo.total),t.isLoading=!1,t.items.length||(t.isUpsell=!0)})).catch((function(){t.isHidden=!0})):t.isHidden=!0}))},$_fetchExchangeContent:function(){var t=this;return x(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("userIndex/fetchUser").then(x(regeneratorRuntime.mark((function e(){var i,n,a,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$apollo.query({query:b()(s||(o=["\n              query CommunityPosts($ids: [String!]) {\n                community_posts(ids: $ids) {\n                  id\n                  title\n                  content\n                  date_created\n                  url\n                  score\n                  upvote_count\n                  comment_count\n                  user {\n                    name\n                    picture\n                  }\n                }\n              }\n            "],l=void 0,l||(l=o.slice(0)),s=Object.freeze(Object.defineProperties(o,{raw:{value:Object.freeze(l)}})))),variables:{ids:t.data.reduce((function(t,e){return"post"===e.type&&t.push(e.id),t}),[])}});case 3:if(i=e.sent,(n=i.data.community_posts).length){e.next=7;break}throw new Error("Empty response from API");case 7:if(t.isRandomized)t.items=n;else for(a=function(e){t.items.push(n.find((function(i){return i.id===t.data[e].id})))},r=0;r<t.data.length;r++)a(r);t.filteredItems.forEach((function(e){t.sliderConfig.totalWidth+=t.sliderConfig.itemWidth})),t.isLoading=!1,e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),t.isLoading=!1,t.isHidden=!0;case 16:case"end":return e.stop()}var o,l}),e,null,[[0,12]])}))));case 2:case"end":return e.stop()}}),e)})))()}}},L=Object(g.a)(M,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.isHidden?t._e():i("section",{staticClass:"collection",class:["collection--"+t.type,{"is-slider":t.isSlider},t.display_template?t.display_template+"-slider":""]},[i("div",{staticClass:"columns is-mobile is-vcentered is-paddingless is-marginless"},[i("div",{staticClass:"column is-paddingless is-marginless"},[t.title?i("h3",{staticClass:"subtitle"},[i("span",{domProps:{innerHTML:t._s(t.title)}})]):t._e(),t._v(" "),t.additional_content?i("div",{staticClass:"additional",domProps:{innerHTML:t._s(t.additional_content)}}):t._e()]),t._v(" "),"exchange"===t.type?i("div",{staticClass:"column has-text-right is-paddingless is-marginless"},[i("a",{attrs:{href:t.communityURL,target:"_blank"}},[i("strong",[t._v("join the conversation")]),t._v(" "),i("i",{staticClass:"fa fa-external-link",attrs:{"aria-hidden":"true"}})])]):t._e()]),t._v(" "),"my-shows"===t.type&&t.isUpsell?i("div",{staticClass:"columns is-paddingless"},[t._m(0)]):t._e(),t._v(" "),"my-videos"===t.type&&t.isUpsell?i("div",{staticClass:"columns is-paddingless"},[t._m(1)]):t._e(),t._v(" "),"my-issues"===t.type&&t.isUpsell?i("div",{staticClass:"columns is-paddingless"},[t._m(2)]):t._e(),t._v(" "),t.isLoading&&!t.isHidden?i("div",{staticClass:"columns is-multiline"},t._l(t.max,(function(e){return i("article",{key:e,staticClass:"column content-tile",class:t.tileClass},[i("div",{staticClass:"image"})])})),0):t._e(),t._v(" "),i("div",{staticClass:"tile-container"},[t.isLoading||t.isHidden?t._e():i("div",{ref:"tileContainer",staticClass:"columns is-mobile",class:{"is-multiline":!t.isSlider,"is-slider":t.isSlider},on:{scroll:t.scrollHandler}},t._l(t.filteredItems,(function(e,s){return i(t.whichComponent(e),t._b({key:e.id,ref:"tileItem",refInFor:!0,tag:"component",class:t.tileClass,attrs:{source:t.source,index:s,display_template:t.display_template}},"component",e,!1))})),1),t._v(" "),!t.isLoading&&t.isSlider&&t.scrollable?[t.sliderConfig.showLeftScroll?i("div",{staticClass:"scroll-control scroll-control--left",on:{click:t.scrollPrev}},[i("i",{staticClass:"fa fa-chevron-left"})]):t._e(),t._v(" "),t.sliderConfig.showRightScroll?i("div",{staticClass:"scroll-control scroll-control--right",on:{click:t.scrollNext}},[i("i",{staticClass:"fa fa-chevron-right"})]):t._e()]:t._e()],2),t._v(" "),t.isSlider?t._e():i("transition-expand",[i("div",{directives:[{name:"show",rawName:"v-show",value:t.hasShowMore&&t.isShowMoreOpen,expression:"hasShowMore && isShowMoreOpen"}],staticClass:"columns is-mobile is-multiline"},[t._l(t.showMoreItems,(function(e){return i(t.whichComponent(e),t._b({key:e.id,tag:"component",class:t.tileClass,attrs:{source:t.source}},"component",e,!1))})),t._v(" "),t.emptyMoreCards?t._l(t.emptyMoreCards,(function(e){return i("article",{key:e,staticClass:"column content-tile",class:t.tileClass},[i("div",{staticClass:"image"})])})):t._e()],2)]),t._v(" "),t.hasShowMore&&!t.isSlider?i("div",{staticClass:"is-hidden-mobile show-more has-text-centered"},[i("transition",{attrs:{name:"fade"}},[t.hasShowMore&&!t.isShowMoreOpen?i("a",{staticClass:"see-all",on:{click:function(e){t.isShowMoreOpen=!0}}},[t._v("\n        Show more\n        "),i("i",{staticClass:"fa fa-angle-down",attrs:{"aria-hidden":"true"}})]):t._e()])],1):t._e(),t._v(" "),t.hasSeeAll?i("div",{staticClass:"show-more has-text-right"},[t.hasSeeAll?i("a",{staticClass:"see-all",attrs:{href:t.link.url}},[t._v("\n      "+t._s(t.linkTitle)+"\n      "),i("i",{staticClass:"fa fa-angle-right",attrs:{"aria-hidden":"true"}})]):t._e()]):t._e(),t._v(" "),t.isInfinite?i("vue-infinite-loading",{attrs:{spinner:"spiral"},on:{infinite:t.infiniteHandler}},[i("div",{attrs:{slot:"no-more"},slot:"no-more"}),t._v(" "),i("div",{attrs:{slot:"no-results"},slot:"no-results"})]):t._e(),t._v(" "),t.paged?i("Pagination",{attrs:{"items-count":t.itemsCount,"current-page":t.page}}):t._e()],1)}),[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"column"},[i("div",{staticClass:"empty-list"},[i("p",{staticClass:"is-size-4"},[i("strong",[t._v("Personalize your Real Vision experience.")])]),t._v(" "),i("p",{staticClass:"is-size-6"},[t._v("\n          Add shows to your list so you can easily keep track of new episodes and your favourite shows.\n        ")]),t._v(" "),i("p",{staticClass:"is-size-6"},[i("a",{staticClass:"button primary",attrs:{href:"/shows"}},[i("span",[t._v("Start Exploring")])])])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"column"},[i("div",{staticClass:"empty-list"},[i("p",{staticClass:"is-size-4"},[i("strong",[t._v("Personalize your Real Vision experience.")])]),t._v(" "),i("p",{staticClass:"is-size-6"},[t._v("\n          Add videos to your list so you can easily access your saved list and your favourite videos.\n        ")]),t._v(" "),i("p",{staticClass:"is-size-6"},[i("a",{staticClass:"button primary",attrs:{href:"/videos"}},[i("span",[t._v("Start Exploring")])])])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"column"},[i("div",{staticClass:"empty-list"},[i("p",{staticClass:"is-size-4"},[i("strong",[t._v("Personalize your Real Vision experience.")])]),t._v(" "),i("p",{staticClass:"is-size-6"},[t._v("\n          Add reports to your list so you can easily access your saved list and your favourite reports.\n        ")]),t._v(" "),i("p",{staticClass:"is-size-6"},[i("a",{staticClass:"button primary",attrs:{href:"/reports"}},[i("span",[t._v("Start Exploring")])])])])])}],!1,null,"12e178a3",null);e.default=L.exports},579:function(t,e,i){"use strict";i.r(e);var s=i(52);function n(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=t&&("undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"]);if(null!=i){var s,n,a=[],r=!0,o=!1;try{for(i=i.call(t);!(r=(s=i.next()).done)&&(a.push(s.value),!e||a.length!==e);r=!0);}catch(t){o=!0,n=t}finally{try{r||null==i.return||i.return()}finally{if(o)throw n}}return a}}(t,e)||function(t,e){if(t){if("string"==typeof t)return a(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?a(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,s=new Array(e);i<e;i++)s[i]=t[i];return s}function r(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function o(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?r(Object(i),!0).forEach((function(e){l(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function l(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var c={name:"TheAccountDropdown",props:{preloaded_menus:{type:Object,default:null}},computed:o(o({},Object(s.b)({isUserLoggedIn:"userIndex/isUserLoggedIn",userName:"userIndex/getUserName",userID:"userIndex/getUserID",hasAvatar:"userIndex/hasAvatar",hasVisitedCommunity:"userIndex/hasVisitedCommunity",latestSub:"userIndex/getSubscriptionOrTrialWithLatestExpiry",getMenuBySlug:"menuIndex/getMenuBySlug",hasAnyExpiredOrTrialExpiredSubscription:"userIndex/hasAnyExpiredOrTrialExpiredSubscription",hasAnyActiveOrTrialSubscription:"userIndex/hasAnyActiveOrTrialSubscription"})),{},{showUpgradeLink:function(){return!(!this.$store.getters["userIndex/isInSubscriptionTier"]||"thirdparty"===this.$store.getters["userIndex/getUserSegment"])&&(this.$store.getters["userIndex/hasActiveOrTrialSubscription"]("crypto")||this.$store.getters["userIndex/hasActiveOrTrialSubscription"]("rv_plus")||this.$store.getters["userIndex/hasActiveOrTrialSubscription"]("rv_essential")||this.$store.getters["userIndex/hasActiveOrTrialSubscription"]("rv_pro")||this.$store.getters["userIndex/hasActiveOrTrialSubscription"]("rv_pro_crypto")||this.$store.getters["userIndex/hasActiveOrTrialSubscription"]("rv_pro_all_access"))},showRenewLink:function(){return!this.$store.getters["userIndex/hasAnyActiveOrTrialSubscription"]&&this.$store.getters["userIndex/hasAnyExpiredOrTrialExpiredSubscription"]&&"thirdparty"!==this.$store.getters["userIndex/getUserSegment"]},showMembershipLink:function(){return!this.$store.getters["userIndex/hasAnySubscription"]&&"thirdparty"!==this.$store.getters["userIndex/getUserSegment"]},avatar:function(){return window.userchef("/100x/".concat(this.userID,"/avatar?cachebust=").concat((new Date).getTime()))},userLinks:function(){var t=this,e=[];return this.getMenuBySlug("global-nav-user").length&&this.getMenuBySlug("global-nav-user").forEach((function(i){"upgrade"===i.xfn?t.showUpgradeLink&&e.push(i):"exchange-settings"===i.xfn||"exchange-notifications"===i.xfn?t.hasVisitedCommunity&&t.latestSub&&t.latestSub.product&&"crypto"!==t.latestSub.product.id&&e.push(i):"exchange-join"===i.xfn?!t.hasVisitedCommunity&&t.latestSub&&t.latestSub.product&&"crypto"!==t.latestSub.product.id&&e.push(i):e.push(i)})),e},membershipLinks:function(){var t=this,e=[];if(this.getMenuBySlug("global-nav-memberships").length)return this.isUserLoggedIn?(this.getMenuBySlug("global-nav-memberships").forEach((function(i){i.classes.indexOf("membership")>=0?t.showSubscriptionLink(i.xfn)&&e.push(i):"renew"===i.xfn?t.showRenewLink&&e.push(i):"register"===i.xfn?t.showMembershipLink&&e.push(i):e.push(i)})),e):this.getMenuBySlug("global-nav-memberships")}}),created:function(){if(this.$store.dispatch("userIndex/fetchUser"),this.preloaded_menus)for(var t=0,e=Object.entries(this.preloaded_menus);t<e.length;t++){var i=n(e[t],2),s=i[0],a=i[1];a.map((function(t){t.id=t.guid})),this.$store.commit("menuIndex/setMenu",{slug:s,menu:a})}else this.$store.dispatch("menuIndex/fetchMenus",["global-nav-user","global-nav-memberships"])},methods:{showSubscriptionLink:function(t){return this.$store.getters["userIndex/hasActiveOrTrialSubscription"](t)}}},u=i(149),d=Object(u.a)(c,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"account-dropdown"},[t.hasAvatar?i("div",{staticClass:"columns is-vcentered"},[i("div",{staticClass:"column is-narrow"},[i("img",{staticClass:"avatar",attrs:{src:t.avatar}})]),t._v(" "),i("div",{staticClass:"column is-paddingless-horizontal"},[i("h1",[t._v(t._s(t.userName))])])]):i("h1",[t._v(t._s(t.userName))]),t._v(" "),i("hr"),t._v(" "),i("h2",[t._v("\n    Membership Status:\n    "),!t.hasAnyActiveOrTrialSubscription&&t.hasAnyExpiredOrTrialExpiredSubscription?i("span",[t._v(" expired ")]):t._e()]),t._v(" "),i("ul",{staticClass:"membership-status"},t._l(t.membershipLinks,(function(e){return i("li",{key:"a"+e.id},[i("a",{class:e.classes,attrs:{href:!!e.url&&e.url}},[t._v("\n        "+t._s(e.title)+"\n        "),t._m(0,!0)])])})),0),t._v(" "),i("ul",t._l(t.userLinks,(function(e){return i("li",{key:"b"+e.id},[i("a",{class:e.classes,attrs:{href:e.url},domProps:{innerHTML:t._s(e.title)}},[t._v(t._s(e.title))])])})),0),t._v(" "),i("hr"),t._v(" "),i("ul",[i("li",[i("a",{attrs:{href:"/logout"},on:{click:function(e){return e.preventDefault(),t.$store.dispatch("userIndex/logout")}}},[t._v("Sign Out")])])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"icon is-small pull-right"},[e("i",{staticClass:"fa fa-angle-right"})])}],!1,null,"05509e82",null);e.default=d.exports},583:function(t,e,i){"use strict";i.r(e);var s=i(52),n=i(11);function a(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function r(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?a(Object(i),!0).forEach((function(e){o(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):a(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function o(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var l={name:"CommunitySummary",data:function(){return{showNotificationSummary:!1}},computed:r(r({},Object(s.b)({userId:"userIndex/getUserID",latestSub:"userIndex/getSubscriptionOrTrialWithLatestExpiry",hasNotifications:"userIndex/hasUnreadCommunityNotifications",hasMessages:"userIndex/hasUnreadCommunityMessages",newNotificationCount:"userIndex/getUnreadCommunityNotificationsCount",newMessageCount:"userIndex/getUnreadCommunityMessagesCount"})),{},{vanillaURL:function(){var t=n.a.get("vanilla_url");return t.endsWith("/")?t.slice(0,-1):t}}),created:function(){var t=this;this.$store.dispatch("userIndex/fetchUser").then((function(){t.latestSub&&t.latestSub.product&&"crypto"!==t.latestSub.product.id&&(t.showNotificationSummary=!0,t.$store.dispatch("userIndex/fetchCommunitySummary",{force:!1,poll:!0}))}))}},c=i(149),u=Object(c.a)(l,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.showNotificationSummary?i("div",{staticClass:"community-summary"},[i("a",{on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.$emit("notifications_click")}}},[i("svg",{attrs:{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"bell",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 470 540",width:"20",height:"20"}},[i("path",{attrs:{fill:"none",d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"}})]),t._v(" "),t.hasNotifications?i("span",{staticClass:"alert"},[t._v("\n      "+t._s(t.newNotificationCount)+"\n    ")]):t._e()]),t._v(" "),i("a",{on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.$emit("messages_click")}}},[i("svg",{attrs:{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"comment",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"22",height:"20"}},[i("path",{attrs:{fill:"none",d:"M256 32C114.6 32 0 125.1 0 240c0 49.6 21.4 95 57 130.7C44.5 421.1 2.7 466 2.2 466.5c-2.2 2.3-2.8 5.7-1.5 8.7S4.8 480 8 480c66.3 0 116-31.8 140.6-51.4 32.7 12.3 69 19.4 107.4 19.4 141.4 0 256-93.1 256-208S397.4 32 256 32z"}})]),t._v(" "),t.hasMessages?i("span",{staticClass:"alert"},[t._v("\n      "+t._s(t.newMessageCount)+"\n    ")]):t._e()])]):t._e()}),[],!1,null,"678abf56",null);e.default=u.exports},584:function(t,e,i){"use strict";i.r(e);var s=i(11),n=i(52),a=i(728);function r(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function o(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?r(Object(i),!0).forEach((function(e){l(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function l(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var c={name:"CommunityDropdown",props:{type:{type:String,default:"notification",validator:function(t){return["notification","message"].includes(t)}}},data:function(){return{isError:!1,isLoading:!0,COMMUNITY_DROPDOWN:{NOTIFICATION:"notification",MESSAGE:"message"}}},computed:o(o({},Object(n.b)({communityNotifications:"userIndex/getCommunityNotifications",communityMessages:"userIndex/getCommunityMessages"})),{},{vanillaURL:function(){var t=s.a.get("vanilla_url");return t.endsWith("/")?t.slice(0,-1):t}}),mounted:function(){var t=this;this.$store.dispatch("userIndex/fetchCommunitySummary",{force:!1,poll:!0}).then((function(){t.isLoading=!1})).catch((function(){t.isError=!0,t.isLoading=!1}))},methods:{markAllAsRead:function(){this.$store.dispatch("userIndex/readAllCommunityNotifications")},formatDate:function(t){var e=new Date(t);return e.getDay()===(new Date).getDay()?Object(a.a)(e,"h:mm aaa"):Object(a.a)(e,"MMM d, yyyy")},messageUserImage:function(t){var e;return(null===(e=t.participants.find((function(e){return e.userID===t.insertUserID})))||void 0===e?void 0:e.user.photoUrl)||null}}},u=i(149),d=Object(u.a)(c,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"community-dropdown"},[i("div",{class:{"notification-dropdown":t.type===t.COMMUNITY_DROPDOWN.NOTIFICATION,"message-dropdown":t.type===t.COMMUNITY_DROPDOWN.MESSAGE,"is-empty":!t.communityNotifications.length}},[i("div",{staticClass:"dropdown-header"},[i("p",[t._v(t._s(t.type===t.COMMUNITY_DROPDOWN.NOTIFICATION?"Notifications":"Messages"))]),t._v(" "),t.type===t.COMMUNITY_DROPDOWN.NOTIFICATION?i("a",{attrs:{href:t.vanillaURL+"/profile/preferences"}},[i("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[i("path",{attrs:{d:"M496 384H160v-16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v16H16c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h80v16c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-16h336c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm0-160h-80v-16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v16H16c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h336v16c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-16h80c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm0-160H288V48c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v16H16C7.2 64 0 71.2 0 80v32c0 8.8 7.2 16 16 16h208v16c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-16h208c8.8 0 16-7.2 16-16V80c0-8.8-7.2-16-16-16z"}})])]):i("a",{attrs:{href:t.vanillaURL+"/messages/add"}},[i("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"}},[i("path",{attrs:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"}})])])]),t._v(" "),t.type===t.COMMUNITY_DROPDOWN.NOTIFICATION?[t.isLoading?i("div",{staticClass:"spinner"}):t.isError?i("div",{staticClass:"error"},[t._v("Uh oh. Something went wrong.")]):t.communityNotifications.length?i("ul",t._l(t.communityNotifications,(function(e){return i("li",{key:e.notificationID},[i("a",{attrs:{href:e.url,target:"_blank"}},[i("div",{staticClass:"user-image"},[i("img",{attrs:{src:e.photoUrl}})]),t._v(" "),i("div",{staticClass:"message"},[i("p",[i("span",{domProps:{innerHTML:t._s(e.body)}}),t._v(" "),i("br"),t._v(" "),i("small",[t._v(t._s(t.formatDate(e.dateInserted)))])])]),t._v(" "),e.read?t._e():i("div",{staticClass:"new-alert-badge"})])])})),0):i("div",{staticClass:"error"},[t._v("You don’t have any notifications yet.")])]:t.type===t.COMMUNITY_DROPDOWN.MESSAGE?[t.isLoading?i("div",{staticClass:"spinner"}):t.isError?i("div",{staticClass:"error"},[t._v("Uh oh. Something went wrong.")]):t.communityMessages.length?i("ul",t._l(t.communityMessages,(function(e){return i("li",{key:e.conversationID},[i("a",{attrs:{href:e.url,target:"_blank"}},[i("div",{staticClass:"user-image"},[i("img",{attrs:{src:t.messageUserImage(e)}})]),t._v(" "),i("div",{staticClass:"message"},[i("p",[i("strong",[t._v(t._s(e.name))]),t._v(" "),i("br"),t._v(" "),i("span",{domProps:{innerHTML:t._s(e.body)}}),t._v(" "),i("br"),t._v(" "),i("small",[t._v(t._s(t.formatDate(e.dateInserted))+" "+t._s(e.countMessages)+" messages")])])]),t._v(" "),e.unread?i("div",{staticClass:"new-alert-badge"}):t._e()])])})),0):i("div",{staticClass:"error"},[t._v("You don’t have any messages yet.")])]:t._e(),t._v(" "),i("div",{staticClass:"dropdown-footer"},[i("a",{staticClass:"link",class:{message:t.type===t.COMMUNITY_DROPDOWN.MESSAGE},attrs:{href:t.type===t.COMMUNITY_DROPDOWN.NOTIFICATION?t.vanillaURL+"/profile/notifications":t.vanillaURL+"/messages/inbox"}},[t._v("\n        "+t._s(t.type===t.COMMUNITY_DROPDOWN.NOTIFICATION?"All Notifications":"All Messages")+"\n      ")]),t._v(" "),t.type===t.COMMUNITY_DROPDOWN.NOTIFICATION?i("span",{on:{click:t.markAllAsRead}},[t._v("Mark All Read")]):t._e()])],2)])}),[],!1,null,"16c47e71",null);e.default=d.exports},595:function(t,e,i){"use strict";i.r(e);var s=i(672),n=i.n(s),a=i(567),r=i(558),o=i(667),l=i.n(o),c=i(569),u=i(663),d=i(647),h=i(648),p=i(649),f=i(728),v=i(651),g=i.n(v),m=i(52),_=i(11);function y(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function b(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var w={components:{AlgoliaDebouncedSearchBox:a.default,AlgoliaDebouncedSearchBoxAutocomplete:r.default,Collection:c.default},props:{search_field_url:{type:String,default:""}},data:function(){var t=n()(_.a.get("algolia_application_id"),_.a.get("algolia_search_api_key")),e={search:function(e){var i=e[0].params&&void 0!==e[0].params.page,s=e.length>1&&e[1].params&&e[1].params.query&&e[1].params.query.length>0;return!i&&!s||e.every((function(t){return!t.params.query}))?Promise.resolve({results:e.map((function(){return{hits:[],nbHits:0,nbPages:0,page:0,processingTimeMS:0}}))}):t.search(e)}};return{insightsClient:l.a,searchClient:e,searchFieldUrl:"",searchText:"",isDiscoveryResults:!0,collectionId:_.a.get("algolia_qso_collection_id"),collectionDescription:_.a.get("algolia_qso_collection_description"),searchIndex:_.a.get("algolia_quick_search_overlay_index"),searchPlaceholder:_.a.get("algolia_search_placeholder"),debounceDelay:parseInt(_.a.get("algolia_input_debounce_delay")),autocompleteEnabled:_.a.get("algolia_autocomplete_enabled"),autocompleteResultsAmount:parseInt(_.a.get("algolia_autocomplete_results_amount")),autocompleteIndex:_.a.get("algolia_autocomplete_index"),sortBy:[{value:_.a.get("algolia_quick_search_overlay_index"),label:"Sort by"},{value:_.a.get("algolia_video_index"),label:"Most relevant"},{value:_.a.get("algolia_video_sort_by_date_desc_index"),label:"Date newest to oldest"},{value:_.a.get("algolia_video_sort_by_date_asc_index"),label:"Date oldest to newest"}],itemsPerPage:12,collectionData:[],collectionSource:null,progresses:{}}},computed:function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?y(Object(i),!0).forEach((function(e){b(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):y(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}({},Object(m.b)({searchToken:"userIndex/getSearchToken"})),mounted:function(){l()("init",{appId:_.a.get("algolia_application_id"),apiKey:_.a.get("algolia_search_api_key")}),l()("setUserToken",this.searchToken),this.searchFieldUrl=this.search_field_url,"/"!=this.searchFieldUrl.substr(-1)&&(this.searchFieldUrl+="/"),this.getCollectionData()},methods:{closeSearch:function(){return this.$parent.closeSearch(null),!1},formattedDuration:function(t){var e=Object(u.a)(new Date(1970,0,0,0,0,0),t),i=Object(d.a)(e)||"",s=Object(h.a)(e),n=Object(p.a)(e);return i&&(i<10&&(i="0".concat(i)),i="".concat(i,":")),s<10&&(s="0".concat(s)),n<10&&(n="0".concat(n)),"".concat(i).concat(s,":").concat(n)},formatPublishedOnDate:function(t){return Object(f.a)(t,"MMM dd, yyyy")},fetchItemProgresses:function(t){var e=this;return t.forEach((function(t){e.$set(e.progresses,t.objectID,0),t.objectID&&t.Duration&&e.$store.dispatch("videosIndex/fetchProgress",{id:t.objectID}).then((function(i){if(i){var s=1e3*i/t.Duration*100;e.$set(e.progresses,t.objectID,s)}}))})),t},getCollectionData:function(){var t=this;this.collectionId&&void 0!==this.collectionId.length&&window.fetch("/rv/api/collections/"+this.collectionId+"?include=contents,show",{credentials:"same-origin",headers:{Accept:"application/vnd.api+json"}}).then((function(t){if(t.ok)return t.json();throw new Error})).then((function(e){var i=(new g.a).deserialize(e);if(i&&i.contents&&i.contents.length>0){for(var s=0;s<i.contents.length;s++)t.collectionData.push(i.contents[s]);t.collectionSource={type:"collection",id:i.id}}})).catch((function(){}))},searchBoxInput:function(t,e){e&&e.length>0?this.isDiscoveryResults=!1:this.isDiscoveryResults=!0,this.searchText=e}}},C=i(149),x=Object(C.a)(w,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"algolia-search overlay"},[i("div",{staticClass:"container"},[i("div",{staticClass:"close-search",on:{click:t.closeSearch}}),t._v(" "),t.searchIndex?i("ais-instant-search",{attrs:{"index-name":t.searchIndex,"insights-client":t.insightsClient,"search-client":t.searchClient}},[i("ais-configure",{attrs:{analytics:!0,clickAnalytics:!0,enablePersonalization:!0,hitsPerPage:t.itemsPerPage,userToken:t.searchToken}}),t._v(" "),i("div",{staticClass:"columns"},[i("div",{staticClass:"column searchbox"},[t.autocompleteEnabled?i("div",[i("AlgoliaDebouncedSearchBoxAutocomplete",{attrs:{"autocomplete-results-amount":t.autocompleteResultsAmount,"autocomplete-index":t.autocompleteIndex,delay:t.debounceDelay,placeholder:t.searchPlaceholder},on:{changeQuery:function(e){return t.searchBoxInput(e.refine,e.query)}}})],1):i("div",{staticClass:"search-input-box"},[i("AlgoliaDebouncedSearchBox",{attrs:{delay:t.debounceDelay,placeholder:t.searchPlaceholder},on:{changeQuery:function(e){return t.searchBoxInput(e.refine,e.query)}}})],1)])]),t._v(" "),i("div",{class:["columns","search-hits",{"is-discovery":t.isDiscoveryResults}]},[i("div",{staticClass:"column is-two-thirds results-col"},[t.searchText?i("h5",[t._v("\n            Showing results for: "),i("em",[t._v(t._s(t.searchText))])]):i("div",[i("h3",{staticClass:"subtitle collection-subtitle"},[i("span",[t._v("Recommended Videos")])]),t._v(" "),i("p",{staticClass:"collection-description"},[t._v(t._s(t.collectionDescription))])])]),t._v(" "),i("div",{staticClass:"column is-one-third sort-by-col advanced-search-link"},[i("form",{attrs:{action:t.searchFieldUrl,method:"POST"}},[i("input",{attrs:{type:"hidden",name:"search_text"},domProps:{value:t.searchText}}),t._v(" "),i("input",{staticClass:"is-link is-transparent",attrs:{value:"Advanced search",type:"submit",name:"submit-form-button"}})]),t._v(" "),t.searchText?i("ais-sort-by",{attrs:{items:t.sortBy}}):t._e()],1)]),t._v(" "),t.isDiscoveryResults?t._e():i("div",{staticClass:"columns search-hits"},[i("div",{staticClass:"column"},[i("ais-hits",{staticClass:"other-hits",attrs:{"transform-items":t.fetchItemProgresses},scopedSlots:t._u([{key:"item",fn:function(e){var s=e.item,n=e.insights;return[i("div",{staticClass:"column content-tile"},[s.Thumbnail?i("a",{staticClass:"image image-container",attrs:{href:s.URL},on:{click:function(t){return n("clickedObjectIDsAfterSearch",{eventName:"Clicked Image",objectIDs:[s.objectID]})}}},[i("ImageChef",{attrs:{title:s.Title,dimensions:[664,null],src:s.objectID+"/thumbnail","max-bytes":{webp:25e3,jpeg:3e4}}}),t._v(" "),s.Duration?i("div",{staticClass:"content-tile__duration duration"},[t._v("\n                    "+t._s(t.formattedDuration(s.Duration))+"\n                  ")]):t._e()],1):t._e(),t._v(" "),i("div",{staticClass:"progress"},[i("div",{style:"width: "+(t.progresses[s.objectID]||0)+"%"})]),t._v(" "),i("div",{staticClass:"meta"},[i("div",{staticClass:"additional"},[i("div",[s.Show?i("span",{staticClass:"show-link"},[t._v(t._s(s.Show))]):t._e(),t._v(" "),s.Show?i("span",{staticClass:"dot-separator"},[t._v("·")]):t._e(),t._v(" "),s["Published On"]?i("span",[t._v("\n                        "+t._s(t.formatPublishedOnDate(s["Published On"]))+"\n                      ")]):t._e()]),t._v(" "),i("div",{staticClass:"tier-container"},[s["Membership Tier"]?i("div",{class:s["Membership Tier"].join(" ").toLowerCase()},[t._v("\n                        "+t._s(s["Membership Tier"].join(" "))+"\n                      ")]):t._e()])]),t._v(" "),i("a",{attrs:{href:s.URL},on:{click:function(t){return n("clickedObjectIDsAfterSearch",{eventName:"Clicked Title",objectIDs:[s.objectID]})}}},[i("h3",[t._v(t._s(s.Title))]),t._v(" "),i("p",[t._v(t._s(s.Description))])])])])]}}],null,!1,2121825160)}),t._v(" "),i("ais-state-results",{scopedSlots:t._u([{key:"default",fn:function(e){var s=e.results._rawResults;return[i("div",{directives:[{name:"show",rawName:"v-show",value:s&&s.length&&s[0].nbHits>t.itemsPerPage,expression:"_rawResults && _rawResults.length && _rawResults[0].nbHits > itemsPerPage"}],staticClass:"pagination"},[i("ais-pagination")],1)]}}],null,!1,1908185046)})],1)]),t._v(" "),!t.searchText&&t.collectionSource?i("div",{staticClass:"collection-container"},[i("Collection",{attrs:{data:t.collectionData,id:t.collectionSource.id,"is-randomized":!1,"is-slider":!1,"show-more-enabled":!1,source:t.collectionSource,type:t.collectionSource.type,additional_content:"",max:"8"}})],1):t._e()],1):i("div",[t._v("Sorry, search is unavailable at this time.")])],1)])}),[],!1,null,"09920716",null);e.default=x.exports},613:function(t,e,i){"use strict";i.r(e);var s=i(52),n=i(11),a=i(579),r=i(583),o=i(584),l=i(595);function c(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=t&&("undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"]);if(null!=i){var s,n,a=[],r=!0,o=!1;try{for(i=i.call(t);!(r=(s=i.next()).done)&&(a.push(s.value),!e||a.length!==e);r=!0);}catch(t){o=!0,n=t}finally{try{r||null==i.return||i.return()}finally{if(o)throw n}}return a}}(t,e)||function(t,e){if(t){if("string"==typeof t)return u(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?u(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,s=new Array(e);i<e;i++)s[i]=t[i];return s}function d(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function h(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?d(Object(i),!0).forEach((function(e){p(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):d(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function p(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var f={name:"TheNavigation",components:{TheAccountDropdown:a.default,CommunitySummary:r.default,CommunityDropdown:o.default,AlgoliaSearch:l.default},props:{variant:{type:String,default:"black"},classes:{type:String,default:""},account_enabled:{type:Boolean,default:!1},community_enabled:{type:Boolean,default:!1},search_enabled:{type:Boolean,default:!1},search_field_url:{type:String,default:""},hide_navigation:{type:Boolean,default:!1},required_user_tag:{type:String,default:""},product:{type:String,default:"television"},preloaded_menus:{type:Object,default:null}},data:function(){return{hasUserRequestCompleted:!1,isSearching:!1,isAccountDropdownOpen:!1,isMobileNavigationOpen:!1,isNotificationDropdownOpen:!1,isMessageDropdownOpen:!1,searchTerms:""}},computed:h(h({},Object(s.b)({isLoggedIn:"userIndex/isUserLoggedIn",userSegment:"userIndex/getUserSegment",latestSub:"userIndex/getSubscriptionOrTrialWithLatestExpiry",getMenuBySlug:"menuIndex/getMenuBySlug"})),{},{logoImage:function(){var t=n.a.get("cdn_host","/"),e="generic";return"portal"===this.product&&(e="free"),"auto"===this.variant?"".concat(t,"images/logos/").concat(e,"/black/logo-").concat(e,"2x.png"):"".concat(t,"images/logos/").concat(e,"/white/logo-").concat(e,"2x.png")},logoBadgeImage:function(){var t=n.a.get("cdn_host","/");return"auto"===this.variant?"".concat(t,"images/logos/generic/black/small/logo-generic2x.png"):"".concat(t,"images/logos/generic/white/small/logo-generic2x.png")},homeLink:function(){return this.getMenuBySlug("global-nav-main").length?this.getMenuBySlug("global-nav-main")[0].url:""},navigationLinks:function(){if(this.getMenuBySlug("global-nav-main").length){var t=this.getMenuBySlug("global-nav-main").slice();return t.shift(),t}return[]},userLinks:function(){return this.getMenuBySlug("global-nav-user").length?this.getMenuBySlug("global-nav-user"):[]},hasAccess:function(){return"portal"===this.product?this.hasUserTag():"television"===this.product?this.hasActiveSubscription(this.product)||this.hasActiveSubscription("crypto")||this.hasActiveSubscription("rv_essential")||this.hasActiveSubscription("rv_plus")||this.hasActiveSubscription("rv_pro")||this.hasActiveSubscription("rv_pro_crypto")||this.hasActiveSubscription("rv_pro_all_access")||this.hasActiveSubscription("rv_blacklist"):"access"===this.product?this.hasActiveSubscription(this.product)||this.hasActiveSubscription("rv_plus")||this.hasActiveSubscription("rv_pro")||this.hasActiveSubscription("rv_pro_crypto")||this.hasActiveSubscription("rv_pro_all_access")||this.hasActiveSubscription("rv_blacklist"):"macroinsiders"===this.product?this.hasActiveSubscription(this.product)||this.hasActiveSubscription("rv_pro")||this.hasActiveSubscription("rv_pro_all_access")||this.hasActiveSubscription("rv_blacklist"):"rv_pro_crypto"===this.product?this.hasActiveSubscription(this.product)||this.hasActiveSubscription("rv_pro_all_access")||this.hasActiveSubscription("rv_blacklist"):"rv_pro_all_access"===this.product&&(this.hasActiveSubscription(this.product)||this.hasActiveSubscription("rv_blacklist"))}}),created:function(){var t=this;if(this.$store.dispatch("userIndex/fetchUser").then((function(){t.hasUserRequestCompleted=!0})),this.preloaded_menus)for(var e=0,i=Object.entries(this.preloaded_menus);e<i.length;e++){var s=c(i[e],2),n=s[0],a=s[1];a.map((function(t){t.id=t.guid})),this.$store.commit("menuIndex/setMenu",{slug:n,menu:a})}else this.$store.dispatch("menuIndex/fetchMenus",["global-nav-main","global-nav-user"])},methods:{toggleMobileNavigation:function(){this.isMobileNavigationOpen=!this.isMobileNavigationOpen},toggleSubMenu:function(t){t.currentTarget.classList.toggle("show")},openSearch:function(){this.isSearching=!0,this.logEventAndNavigate("search open")},closeSearch:function(t){(!t||this.$refs.searchForm&&!this.$refs.searchForm.contains(t.target))&&(this.isSearching=!1,this.logEventAndNavigate("search close"))},hasSubscription:function(t){return this.$store.getters["userIndex/hasSubscription"](t)},hasActiveSubscription:function(t){return this.$store.getters["userIndex/hasActiveOrTrialSubscription"](t)},hasUserTag:function(){return this.$store.getters["userIndex/hasUserTag"](this.required_user_tag)},logEventAndNavigate:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";try{if(window&&window.dataLayer){var i={event:"header_click",link_classes:"header",link_text:t};e&&(i.link_url=e),window.dataLayer.push(i)}}catch(t){console.error({meta:{file:"TheNavigation.vue",method:"logEventAndNavigate"},message:t.message})}e&&(window.location.href=e)}}},v=i(149),g=Object(v.a)(f,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("section",{staticClass:"is-paddingless navigation-global",class:"navigation-global--"+t.variant+" "+t.classes},[i("div",{staticClass:"columns is-mobile is-hidden-tablet mobile-nav"},[i("div",{staticClass:"column logo is-vertically-center is-paddingless is-marginless"},[i("h1",{staticClass:"logo"},[i("a",{attrs:{href:t.homeLink},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.logEventAndNavigate("logo",t.homeLink)}}},[i("img",{attrs:{src:t.logoImage,width:"120"}})])])]),t._v(" "),t.hide_navigation?t._e():i("div",{staticClass:"column is-vertically-center is-narrow is-paddingless"},[t.community_enabled?i("CommunitySummary",{on:{notifications_click:function(e){t.isNotificationDropdownOpen=!0},messages_click:function(e){t.isMessageDropdownOpen=!0}}}):t._e(),t._v(" "),i("a",{staticClass:"hamburger",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.toggleMobileNavigation(e)}}},[i("span",{staticClass:"is-hidden"},[t._v("Menu")]),t._v(" "),i("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"27",height:"27",viewBox:"0 0 27 27"}},[i("g",{attrs:{"fill-rule":"evenodd","stroke-linecap":"square","stroke-width":"2"}},[i("path",{attrs:{d:"M1.5 5.5h24M1.5 13.5h24M1.5 21.5h24"}})])])])],1),t._v(" "),!t.account_enabled||t.hide_navigation||t.hasAccess?t._e():i("div",{staticClass:"column is-vertically-center is-narrow is-paddingless"},["portal"===t.product?i("a",{staticClass:"button primary function-pro",on:{click:function(e){return e.preventDefault(),t.$bus.$emit("register",t.required_user_tag,t.product)}}},[i("span",[t._v("Sign Up")])]):i("a",{staticClass:"button primary function-pro",attrs:{href:"/pricing"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.logEventAndNavigate("Sign Up","/pricing")}}},[i("span",[t._v("Sign Up")])])])]),t._v(" "),i("div",{staticClass:"hamburger-navigation is-hidden-tablet",class:{show:t.isMobileNavigationOpen},on:{click:function(t){t.stopPropagation()}}},[i("div",{staticClass:"columns is-mobile mobile-nav"},[i("div",{staticClass:"column logo is-vertically-center is-paddingless is-marginless"},[i("h1",{staticClass:"logo"},[i("a",{attrs:{href:t.homeLink},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.logEventAndNavigate("logo",t.homeLink)}}},[i("img",{attrs:{src:t.logoImage,width:"120"}})])])]),t._v(" "),i("div",{staticClass:"column is-vertically-center is-narrow is-paddingless"},[i("a",{staticClass:"hamburger",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.toggleMobileNavigation(e)}}},[i("span",{staticClass:"is-hidden"},[t._v("Close")]),t._v(" "),i("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"19",viewBox:"0 0 19 19"}},[i("g",{attrs:{"fill-rule":"evenodd","stroke-linecap":"square","stroke-width":"3"}},[i("path",{attrs:{d:"M2.071 2.071l14.142 14.142M16.213 2.071L2.071 16.213"}})])])])])]),t._v(" "),i("ul",{staticClass:"main-navigation",class:{"de-emphasis":t.isSearching}},[t.search_enabled?i("li",[i("a",{staticClass:"nav-item mobile-open-search",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.openSearch(e)}}},[i("svg",{staticClass:"svg-inline--fa fa-search fa-w-16",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[i("path",{attrs:{fill:"currentColor",d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"}})])])]):t._e(),t._v(" "),t._l(t.navigationLinks,(function(e){return i("li",{key:"a"+e.id},[e.children?[i("div",{staticClass:"nav-item",class:e.classes,on:{click:t.toggleSubMenu}},[i("strong",[t._v("\n                "+t._s(e.title)+"\n                "),i("svg",{staticClass:"svg-inline--fa fa-angle-down fa-w-10",attrs:{"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"angle-down",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512"}},[i("path",{attrs:{fill:"currentColor",d:"M143 352.3L7 216.3c-9.4-9.4-9.4-24.6 0-33.9l22.6-22.6c9.4-9.4 24.6-9.4 33.9 0l96.4 96.4 96.4-96.4c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9l-136 136c-9.2 9.4-24.4 9.4-33.8 0z"}})])]),t._v(" "),i("ul",{staticClass:"sub-nav-container"},t._l(e.children,(function(e){return i("li",{key:"b"+e.id},[i("a",{staticClass:"nav-item",class:e.classes,attrs:{href:e.url},on:{click:function(i){return i.stopPropagation(),i.preventDefault(),t.logEventAndNavigate(e.title,e.url)}}},[t._v("\n                    "+t._s(e.title)+"\n                  ")])])})),0)])]:[i("a",{staticClass:"nav-item",class:e.classes,attrs:{href:e.url},on:{click:function(i){return i.stopPropagation(),i.preventDefault(),t.logEventAndNavigate(e.title,e.url)}}},[i("strong",[t._v("\n                "+t._s(e.title)+"\n              ")])])]],2)}))],2),t._v(" "),t.account_enabled&&t.isLoggedIn?i("ul",{class:{"de-emphasis":t.isSearching}},[t.hasAccess||"portal"!==t.product?t._e():i("li",[i("a",{on:{click:function(e){return e.preventDefault(),t.$bus.$emit("register",t.required_user_tag,t.product)}}},[i("span",[t._v("Sign Up")])])]),t._v(" "),t._l(t.userLinks,(function(e){return i("li",{key:"c"+e.id},[i("a",{attrs:{href:e.url},domProps:{innerHTML:t._s(e.title)},on:{click:function(i){return i.stopPropagation(),i.preventDefault(),t.logEventAndNavigate(e.title,e.url)}}})])})),t._v(" "),i("li",[i("a",{attrs:{href:"/logout"},on:{click:function(e){e.preventDefault(),t.logEventAndNavigate("Log Out"),t.$store.dispatch("userIndex/logout")}}},[t._v("Log Out")])])],2):t.account_enabled?i("ul",{class:{"de-emphasis":t.isSearching}},[t.hasAccess||"portal"!==t.product?i("li",[i("a",{attrs:{href:"/pricing"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.logEventAndNavigate("Sign Up","/pricing")}}},[i("span",[t._v("Sign Up")])])]):i("li",[i("a",{on:{click:function(e){return e.preventDefault(),t.$bus.$emit("register",t.required_user_tag,t.product)}}},[i("span",[t._v("Sign Up")])])]),t._v(" "),i("li",[i("a",{attrs:{href:"/rv/login"},on:{click:function(e){e.preventDefault(),t.$bus.$emit("login",t.required_user_tag,t.product),t.logEventAndNavigate("Log In")}}},[t._v("Log In")])])]):t._e()]),t._v(" "),i("div",{staticClass:"columns is-hidden-mobile tablet-nav"},[i("div",{staticClass:"column logo is-narrow-tablet is-paddingless is-vertically-center"},[i("h1",[i("a",{attrs:{href:t.homeLink},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.logEventAndNavigate("logo",t.homeLink)}}},[i("img",{staticClass:"is-hidden-touch",attrs:{src:t.logoImage,width:"120"}}),t._v(" "),i("img",{staticClass:"is-hidden-desktop",attrs:{src:t.logoBadgeImage,width:"55"}})])])]),t._v(" "),t.hide_navigation?t._e():i("div",{staticClass:"column is-paddingless is-vertically-center columns is-marginless",staticStyle:{position:"relative"}},[i("div",{staticClass:"column is-paddingless is-vertically-center"},[i("ul",{staticClass:"top-navigation"},[t._l(t.navigationLinks,(function(e){return i("li",{key:"e"+e.id},[e.children?[i("div",{staticClass:"is-hidden-touch nav-item--desktop",class:e.classes},[i("span",{staticClass:"nav-item__title"},[t._v("\n                    "+t._s(e.title)+"\n                    "),i("svg",{staticClass:"svg-inline--fa fa-angle-down fa-w-10",attrs:{"aria-hidden":"true",focusable:"false",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512"}},[i("path",{attrs:{fill:"currentColor",d:"M143 352.3L7 216.3c-9.4-9.4-9.4-24.6 0-33.9l22.6-22.6c9.4-9.4 24.6-9.4 33.9 0l96.4 96.4 96.4-96.4c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9l-136 136c-9.2 9.4-24.4 9.4-33.8 0z"}})])]),t._v(" "),i("ul",{staticClass:"sub-nav-container"},t._l(e.children,(function(e){return i("li",{key:"f"+e.id},[i("a",{class:e.classes,attrs:{href:e.url},on:{click:function(i){return i.stopPropagation(),i.preventDefault(),t.logEventAndNavigate(e.title,e.url)}}},[i("span",[t._v(t._s(e.title))])])])})),0)]),t._v(" "),i("div",{staticClass:"is-hidden-desktop",class:e.classes,on:{click:t.toggleSubMenu}},[i("span",{staticClass:"nav-item__title"},[t._v("\n                    "+t._s(e.title)+"\n                    "),i("svg",{staticClass:"svg-inline--fa fa-angle-down fa-w-10",attrs:{"aria-hidden":"true",focusable:"false",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512"}},[i("path",{attrs:{fill:"currentColor",d:"M143 352.3L7 216.3c-9.4-9.4-9.4-24.6 0-33.9l22.6-22.6c9.4-9.4 24.6-9.4 33.9 0l96.4 96.4 96.4-96.4c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9l-136 136c-9.2 9.4-24.4 9.4-33.8 0z"}})])]),t._v(" "),i("ul",{staticClass:"sub-nav-container"},t._l(e.children,(function(e){return i("li",{key:"g"+e.id},[i("a",{class:e.classes,attrs:{href:e.url},on:{click:function(i){return i.stopPropagation(),i.preventDefault(),t.logEventAndNavigate(e.title,e.url)}}},[i("span",[t._v(t._s(e.title))])])])})),0)])]:[i("a",{class:e.classes,attrs:{href:e.url},on:{click:function(i){return i.stopPropagation(),i.preventDefault(),t.logEventAndNavigate(e.title,e.url)}}},[i("span",[t._v("\n                    "+t._s(e.title)+"\n                  ")])])]],2)})),t._v(" "),t.search_enabled&&t.search_field_url?i("li",[i("a",{staticClass:"nav-item",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.openSearch(e)}}},[i("svg",{staticClass:"svg-inline--fa fa-search fa-w-16",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[i("path",{attrs:{fill:"currentColor",d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"}})])])]):t._e()],2)]),t._v(" "),t.account_enabled&&t.hasUserRequestCompleted?[i("ul",{staticClass:"column is-narrow is-paddingless is-vertically-center login-subscribe",class:{"fade-out":t.isSearching}},[t.hasAccess||"portal"!==t.product?t.hasAccess?t._e():i("li",[i("a",{attrs:{href:"/pricing"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.logEventAndNavigate("Sign Up","/pricing")}}},[i("span",[t._v("Sign Up")])])]):i("li",[i("a",{on:{click:function(e){return e.preventDefault(),t.$bus.$emit("register",t.required_user_tag,t.product)}}},[i("span",[t._v("Sign Up")])])]),t._v(" "),t.isLoggedIn?t._e():i("li",{staticClass:"is-marginless"},[i("a",{attrs:{href:"/rv/login"},on:{click:function(e){return e.preventDefault(),t.$bus.$emit("login",t.required_user_tag,t.product)}}},[i("span",[t._v("Log In")])])])]),t._v(" "),t.isLoggedIn?i("div",{staticClass:"column is-narrow is-paddingless is-vertically-center",class:{"fade-out":t.isSearching,"is-active":t.isAccountDropdownOpen}},[t.community_enabled?i("CommunitySummary",{on:{notifications_click:function(e){t.isNotificationDropdownOpen=!0,t.logEventAndNavigate("notification")},messages_click:function(e){t.isMessageDropdownOpen=!0,t.logEventAndNavigate("messages")}}}):t._e(),t._v(" "),t.account_enabled?i("a",{staticClass:"avatar dropdown-handle--account",attrs:{"aria-haspopup":"true"},on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.isAccountDropdownOpen=!0}}},[i("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 17"}},[i("g",{attrs:{"fill-rule":"evenodd"}},[i("circle",{attrs:{cx:"9",cy:"4",r:"4"}}),t._v(" "),i("path",{attrs:{d:"M0 15c0-3.314 4.03-6 9-6s9 2.686 9 6H0zM0 15h18v2H0z"}})])])]):t._e()],1):t._e()]:t._e()],2)])]),t._v(" "),t.search_enabled&&t.isSearching?i("AlgoliaSearch",{class:{"fade-in":t.isSearching},attrs:{search_field_url:t.search_field_url}}):t._e(),t._v(" "),t.isNotificationDropdownOpen?i("CommunityDropdown",{attrs:{type:"notification"}}):t._e(),t._v(" "),t.isMessageDropdownOpen?i("CommunityDropdown",{attrs:{type:"message"}}):t._e(),t._v(" "),t.isAccountDropdownOpen?i("TheAccountDropdown",{attrs:{preloaded_menus:t.preloaded_menus}}):t._e(),t._v(" "),t.isAccountDropdownOpen||t.isNotificationDropdownOpen||t.isMessageDropdownOpen?i("div",{staticClass:"navigation-click-catcher",on:{click:function(e){e.preventDefault(),e.stopPropagation(),t.isAccountDropdownOpen=!1,t.isNotificationDropdownOpen=!1,t.isMessageDropdownOpen=!1}}}):t._e()],1)}),[],!1,null,null,null);e.default=g.exports},642:function(t,e,i){"use strict";e.a={data:function(){return{hasMadeImpression:!1}},methods:{visibilityChanged:function(t){t&&!this.hasMadeImpression&&this.id&&(window.dataLayer.push({event:"Impression",label:this.id,action:"".concat(this.type,"_impression")}),this.hasMadeImpression=!0)}}}},645:function(t,e,i){"use strict";e.a={data:function(){return{isWatched:!1,progression:0,watchedThreshold:.9}},created:function(){var t=this;this.id&&this.video_duration&&this.$store.dispatch("videosIndex/fetchProgress",{id:this.id}).then((function(e){if(e){var i=1e3*e;t.isWatched=i>=t.video_duration*t.watchedThreshold,t.progression=i/t.video_duration*100}}))}}},669:function(t,e){},670:function(t,e){}}]);