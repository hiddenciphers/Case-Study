"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[4683],{78143:(e,t)=>{t.DF={prefix:"far",iconName:"book-open",icon:[576,512,[128366,128214],"f518","M540.9 56.77C493.8 39.74 449.6 31.58 410.9 32.02C352.2 32.96 308.3 50 288 59.74C267.7 50 223.9 32.98 165.2 32.04C125.8 31.35 82.18 39.72 35.1 56.77C14.02 64.41 0 84.67 0 107.2v292.1c0 16.61 7.594 31.95 20.84 42.08c13.73 10.53 31.34 13.91 48.2 9.344c118.1-32 202 22.92 205.5 25.2C278.6 478.6 283.3 480 287.1 480s9.37-1.359 13.43-4.078c3.516-2.328 87.59-57.21 205.5-25.25c16.92 4.563 34.5 1.188 48.22-9.344C568.4 431.2 576 415.9 576 399.2V107.2C576 84.67 561.1 64.41 540.9 56.77zM264 416.8c-27.86-11.61-69.84-24.13-121.4-24.13c-26.39 0-55.28 3.281-86.08 11.61C53.19 405.3 50.84 403.9 50 403.2C48 401.7 48 399.8 48 399.2V107.2c0-2.297 1.516-4.531 3.594-5.282c40.95-14.8 79.61-22.36 112.8-21.84C211.3 80.78 246.8 93.75 264 101.5V416.8zM528 399.2c0 .5938 0 2.422-2 3.969c-.8438 .6407-3.141 2.063-6.516 1.109c-90.98-24.6-165.4-5.032-207.5 12.53v-315.3c17.2-7.782 52.69-20.74 99.59-21.47c32.69-.5157 71.88 7.047 112.8 21.84C526.5 102.6 528 104.9 528 107.2V399.2z"]},t.cn=t.DF},7874:(e,t)=>{t.DF={prefix:"far",iconName:"clock",icon:[512,512,[128339,"clock-four"],"f017","M232 120C232 106.7 242.7 96 256 96C269.3 96 280 106.7 280 120V243.2L365.3 300C376.3 307.4 379.3 322.3 371.1 333.3C364.6 344.3 349.7 347.3 338.7 339.1L242.7 275.1C236 271.5 232 264 232 255.1L232 120zM256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0zM48 256C48 370.9 141.1 464 256 464C370.9 464 464 370.9 464 256C464 141.1 370.9 48 256 48C141.1 48 48 141.1 48 256z"]},t.SZ=t.DF},25832:(e,t)=>{t.DF={prefix:"far",iconName:"crosshairs",icon:[512,512,[],"f05b","M224 256C224 238.3 238.3 224 256 224C273.7 224 288 238.3 288 256C288 273.7 273.7 288 256 288C238.3 288 224 273.7 224 256zM256 0C269.3 0 280 10.75 280 24V41.32C380.1 52.39 459.6 131.9 470.7 232H488C501.3 232 512 242.7 512 256C512 269.3 501.3 280 488 280H470.7C459.6 380.1 380.1 459.6 280 470.7V488C280 501.3 269.3 512 256 512C242.7 512 232 501.3 232 488V470.7C131.9 459.6 52.39 380.1 41.32 280H24C10.75 280 0 269.3 0 256C0 242.7 10.75 232 24 232H41.32C52.39 131.9 131.9 52.39 232 41.32V24C232 10.75 242.7 0 256 0V0zM232 422.3V392C232 378.7 242.7 368 256 368C269.3 368 280 378.7 280 392V422.3C353.6 411.8 411.8 353.6 422.3 280H392C378.7 280 368 269.3 368 256C368 242.7 378.7 232 392 232H422.3C411.8 158.4 353.6 100.2 280 89.7V120C280 133.3 269.3 144 256 144C242.7 144 232 133.3 232 120V89.7C158.4 100.2 100.2 158.4 89.7 232H120C133.3 232 144 242.7 144 256C144 269.3 133.3 280 120 280H89.7C100.2 353.6 158.4 411.8 232 422.3z"]},t.KS=t.DF},71520:(e,t)=>{t.DF={prefix:"far",iconName:"flag",icon:[512,512,[61725,127988],"f024","M476.3 0c-6.365 0-13.01 1.35-19.34 4.233c-45.69 20.86-79.56 27.94-107.8 27.94c-59.96 0-94.81-31.86-163.9-31.87c-34.63 0-77.87 8.003-137.2 32.05V24C48 10.75 37.25 0 24 0S0 10.75 0 24v464C0 501.3 10.75 512 24 512s24-10.75 24-24v-104c53.59-23.86 96.02-31.81 132.8-31.81c73.63 0 124.9 31.78 198.6 31.78c31.91 0 68.02-5.971 111.1-23.09C504.1 355.9 512 344.4 512 332.1V30.73C512 11.1 495.3 0 476.3 0zM464 319.8c-30.31 10.82-58.08 16.1-84.6 16.1c-30.8 0-58.31-7-87.44-14.41c-32.01-8.141-68.29-17.37-111.1-17.37c-42.35 0-85.99 9.09-132.8 27.73V84.14l18.03-7.301c47.39-19.2 86.38-28.54 119.2-28.54c28.24 .0039 49.12 6.711 73.31 14.48c25.38 8.148 54.13 17.39 90.58 17.39c35.43 0 72.24-8.496 114.9-26.61V319.8z"]},t.Rr=t.DF},38594:(e,t)=>{t.DF={prefix:"far",iconName:"newspaper",icon:[512,512,[128240],"f1ea","M456 32h-304C121.1 32 96 57.13 96 88v320c0 13.22-10.77 24-24 24S48 421.2 48 408V112c0-13.25-10.75-24-24-24S0 98.75 0 112v296C0 447.7 32.3 480 72 480h352c48.53 0 88-39.47 88-88v-304C512 57.13 486.9 32 456 32zM464 392c0 22.06-17.94 40-40 40H139.9C142.5 424.5 144 416.4 144 408v-320c0-4.406 3.594-8 8-8h304c4.406 0 8 3.594 8 8V392zM264 272h-64C186.8 272 176 282.8 176 296S186.8 320 200 320h64C277.3 320 288 309.3 288 296S277.3 272 264 272zM408 272h-64C330.8 272 320 282.8 320 296S330.8 320 344 320h64c13.25 0 24-10.75 24-24S421.3 272 408 272zM264 352h-64c-13.25 0-24 10.75-24 24s10.75 24 24 24h64c13.25 0 24-10.75 24-24S277.3 352 264 352zM408 352h-64C330.8 352 320 362.8 320 376s10.75 24 24 24h64c13.25 0 24-10.75 24-24S421.3 352 408 352zM400 112h-192c-17.67 0-32 14.33-32 32v64c0 17.67 14.33 32 32 32h192c17.67 0 32-14.33 32-32v-64C432 126.3 417.7 112 400 112z"]},t.Xg=t.DF},12631:(e,t)=>{t.DF={prefix:"fas",iconName:"info",icon:[192,512,[],"f129","M160 448h-32V224c0-17.69-14.33-32-32-32L32 192c-17.67 0-32 14.31-32 32s14.33 31.1 32 31.1h32v192H32c-17.67 0-32 14.31-32 32s14.33 32 32 32h128c17.67 0 32-14.31 32-32S177.7 448 160 448zM96 128c26.51 0 48-21.49 48-48S122.5 32.01 96 32.01s-48 21.49-48 48S69.49 128 96 128z"]},t.YH=t.DF},23117:(e,t,i)=>{var n=i(74497);t.DF={prefix:n.prefix,iconName:n.iconName,icon:[n.width,n.height,n.aliases,n.unicode,n.svgPathData]},t.Ef=t.DF,n.prefix,n.iconName,n.width,n.height,n.aliases,n.unicode,n.svgPathData,n.aliases},74497:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});var i="share-nodes",n=["share-alt"],s="f1e0",r="M285.4 197.1L191.3 244.1C191.8 248 191.1 251.1 191.1 256C191.1 260 191.8 263.1 191.3 267.9L285.4 314.9C302.6 298.2 326.1 288 352 288C405 288 448 330.1 448 384C448 437 405 480 352 480C298.1 480 256 437 256 384C256 379.1 256.2 376 256.7 372.1L162.6 325.1C145.4 341.8 121.9 352 96 352C42.98 352 0 309 0 256C0 202.1 42.98 160 96 160C121.9 160 145.4 170.2 162.6 186.9L256.7 139.9C256.2 135.1 256 132 256 128C256 74.98 298.1 32 352 32C405 32 448 74.98 448 128C448 181 405 224 352 224C326.1 224 302.6 213.8 285.4 197.1L285.4 197.1z";t.definition={prefix:"fas",iconName:i,icon:[448,512,n,s,r]},t.faShareNodes=t.definition,t.prefix="fas",t.iconName=i,t.width=448,t.height=512,t.ligatures=n,t.unicode=s,t.svgPathData=r,t.aliases=n},7856:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(27378),s=i(68370),r=i(67336),o=(i(62221),i(24246));const l=(e,t)=>{switch(t.type){case"add":return(e=>{const t=document.querySelectorAll(`[id^="${r.u}"]`),i=Array.prototype.map.call(t,(e=>e.id.split("|").shift()));return e.sort(((e,t)=>i.indexOf(e.titleId.split("|").shift())-i.indexOf(t.titleId.split("|").shift()))),e})(e.concat(t.title));case"remove":return e.filter((e=>e!==t.title));default:throw new Error}},a=({children:e})=>{const[t,i]=(0,n.useReducer)(l,[]),r=(0,n.useCallback)((e=>{i({type:"add",title:e})}),[]),a=(0,n.useCallback)((e=>{i({type:"remove",title:e})}),[]),c=(0,n.useMemo)((()=>({titles:t,subscribe:r,unsubscribe:a})),[r,t,a]);return(0,o.jsx)(s.Z.Provider,{value:c,children:e})}},37067:(e,t,i)=>{i.d(t,{Z:()=>k}),i(911);var n=i(60042),s=i.n(n),r=i(11512),o=i(27378),l=i(23884),a=i(52564),c=i(43028),d=i.n(c),u=i(61485),h=i.n(u),p=i(68370),m=i(67336),v=(i(62221),i(24158)),f=i(13891),x=i(88460),g=i(24246);function C(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const y=(0,x.Z)("ContentSideBar");class b extends o.Component{constructor(e){var t,i;super(e),C(this,"onComponentDidMount",(()=>{this.scrollToHash(),!this.props.editMode&&this.onScroll(),window.addEventListener("scroll",this.onScroll),window.addEventListener("resize",this.onResize)})),C(this,"onScroll",(()=>{if(!this.contentBarContainer)return;const e=this.contentBarContainer.getBoundingClientRect(),t=e.top<=v.K1,i=Math.max(this.viewportHeight-e.bottom,0),n=this.getActiveTitleId();this.scrollingProgramatically||this.state.activeTitleId===n?this.state.contentBarFixed!==t?this.setState({contentBarFixed:t},(()=>this.ensureHeadingIsVisible(i))):this.ensureHeadingIsVisible(i):this.setState({activeTitleId:n,contentBarFixed:t},(()=>this.ensureHeadingIsVisible(i))),i>=0&&(this.contentBar.style.bottom=`${i}px`)})),C(this,"onResize",(()=>{this.viewportHeight=(0,f.mP)(),this.onScroll()})),C(this,"renderTitle",(e=>{let t=e.titleId===this.state.activeTitleId,i=h()(e.title);return e.title&&(0,g.jsx)("a",{className:s()(y("link"),{[y("link","sub")]:e.isSubheading,active:t}),onClick:t=>this.onClickTitle(t,e,i),ref:e=>{t&&(this.activeHeading=e)},href:`${this.props.pathname}#${i}`,children:(0,g.jsx)("span",{className:y("link__inner"),children:e.title})})})),this.viewportHeight=(0,f.mP)(),this.scrollingProgramatically=!1,this.state={contentBarFixed:!1,activeTitleId:null==e||null===(t=e.titles)||void 0===t||null===(i=t[0])||void 0===i?void 0:i.titleId}}componentDidMount(){if("complete"===document.readyState)this.onComponentDidMount();else{const e=window.onload;window.onload=t=>{this.onComponentDidMount(),"function"==typeof e&&e(t)}}}componentDidUpdate(){this.props.titles.find((e=>e.titleId===this.state.activeTitleId||e.subtitles&&e.subtitles.find((e=>e.titleId===this.state.activeTitleId))))||this.onScroll()}componentWillUnmount(){window.removeEventListener("scroll",this.onScroll),window.removeEventListener("resize",this.onResize)}onClickTitle(e,t,i){e.preventDefault(),this.setState({activeTitleId:t.titleId},(()=>{this.scrollToTitleId(t.titleId),this.setURLHash(i)}))}getClosestActiveTitle(e){if(e)return e.slice().reverse().find((e=>{const t=document.getElementById(e.titleId);return t&&Math.floor(t.getBoundingClientRect().top)<=v.S_}))}getActiveTitleId(){const e=this.props.titles;let t=this.getClosestActiveTitle(e)||e[0];return t?t.titleId:null}setURLHash(e){e!==window.location.hash.replace("#","")&&this.props.dispatch((0,r.gx)(`${this.props.pathname}#${e}`))}ensureHeadingIsVisible(e){if(this.activeHeading){const t=this.activeHeading.getBoundingClientRect(),i=this.viewportHeight-t.bottom;if(t.top<0||i<e){let n;t.top<0&&(n=0),i<e&&(n=1),d()(this.activeHeading,{time:0,validTarget:e=>e===this.contentBar,align:{top:n}})}}}scrollIntoView(e,{time:t=500}={}){this.scrollingProgramatically=!0,d()(e,{time:t,align:{top:0,topOffset:v.S_}},(()=>{this.scrollingProgramatically=!1}))}scrollToHash(){if(!window.location.hash)return;const e=window.location.hash.replace("#",""),t=`${m.u}${e}`;this.setState({activeTitleId:t},(()=>{this.scrollToTitleId(t,{time:0})}))}scrollToTitleId(e,t){const i=document.getElementById(e);i&&this.scrollIntoView(i,t)}render(){return(0,g.jsx)("div",{className:y(),ref:e=>{this.contentBarContainer=e},children:(0,g.jsxs)("div",{className:s()(y("inner"),{[y("inner","fixed")]:this.state.contentBarFixed}),ref:e=>{this.contentBar=e},children:[(0,g.jsx)("div",{className:y("header"),children:"Contents"}),this.props.titles.map((e=>(0,g.jsx)("div",{className:y("section"),children:this.renderTitle(e)},e.titleId)))]})})}}const j=(0,a.EN)((0,l.$j)(((e,t)=>({pathname:t.location.pathname,editMode:e.editor.editMode})))(b)),k=()=>{const{titles:e}=(0,o.useContext)(p.Z);return(0,g.jsx)(j,{titles:e})}},68493:(e,t,i)=>{i.d(t,{Z:()=>E});var n=i(38594),s=i(71520),r=i(68670),o=i(55046),l=i(92739),a=i(27378),c=i(55480),d=i(85893),u=i(66222),h=i(60202),p=i(55553),m=i(24158),v=i(54297),f=i(28206),x=i(22478),g=i(51493),C=i(77106);const y="[entityNews] FLAG",b=(0,g.Rk)("entityNews"),j={slug:null};C.Z.register("entityNews",(0,g.oQ)(b,((e=j,t)=>{const{type:i,payload:n}=t;return i===y&&e.data&&e.data.results?{...e,data:{...e.data,results:e.data.results.filter((e=>e.id!==n.id))}}:e})));var k=i(53092),w=i(54063),T=i(24246);const S=[{name:"Title",key:"title"},{name:"Author",key:"author"},{name:"Date",key:"date"},{name:"Publisher",key:"publisher"},{name:"Description",key:"description"}],N=({children:e})=>(0,T.jsx)(c.xu,{sx:{p:2},children:e}),M=()=>{const e=(0,d.Z)({title:"News"});return(0,T.jsxs)("h3",{className:"font-serif text-[20px]",id:e,children:[(0,T.jsx)(l.G,{icon:n.Xg,style:{marginRight:8,fontSize:"0.8em"}})," ","News"]})},E=()=>{const e=(0,w.Z)(),t=(0,f.T)(),i=(0,f.C)((e=>e.editor.editMode)),n=(0,f.C)((e=>e.entityNews)),d=(0,f.C)((e=>e.entityNews.url)),C=(0,f.C)((e=>e.entityNews.fetchMorePending)),j=(0,f.C)((e=>{var t,i,n;return null===(t=e.entity)||void 0===t||null===(i=t.entity)||void 0===i||null===(n=i.structuredData)||void 0===n?void 0:n.slug})),E=(0,f.C)((e=>{var t,i;return null===(t=e.entity)||void 0===t||null===(i=t.entity)||void 0===i?void 0:i.id}));(0,a.useEffect)((()=>{var e;n.status===g.zv&&d===j||t((e=j,(t,i,{api:n})=>(t(b.setFetching(e)),n.get(`entities/${e}/news/?per_page=5`).then((e=>t(b.setSuccess(e)))).catch((e=>t(b.setError()))))))}),[]);const _=(0,a.useMemo)((()=>{const e=n.data?n.data.results:null;return e?e.map((({id:e,sources:t})=>{const{title:i,publisher:n,author:s,description:r,link:o,published:l}=t[0];return{id:e,date:{reactNode:(0,T.jsx)(N,{children:(a=l,a?isNaN(a)?void 0:(0,k.p6)(a,m.Qj):null)})},title:{reactNode:(0,T.jsx)(N,{children:(0,T.jsx)(u.Z,{href:o,children:i})})},publisher:{reactNode:(0,T.jsx)(N,{children:n})},author:{reactNode:(0,T.jsx)(N,{children:s[0]})},description:{reactNode:(0,T.jsx)(N,{children:r})}};var a})):[]}),[n.data]),Z=(0,a.useCallback)((e=>{const{id:i}=_[e];t(((e,t)=>(i,n,{api:s})=>(i(b.setCustom("flagPendingNewsId",e)),s.post(`feed/news/${e}/flag/`,{entity:t}).then((({success:t})=>{i((e=>({type:y,payload:{id:e}}))(e)),i((0,x.is)(t,"success"))})).catch((e=>{i(b.setCustom("flagPendingNewsId",null)),i((0,x.is)(e,"error"))}))))(i,E))}),[t,_,E]),z=(0,a.useCallback)((e=>(0,T.jsx)(p.Z,{icon:s.Rr,onClick:()=>Z(e)})),[Z]);return n.status===g.Ku?(0,T.jsx)(v.Z,{}):d===j&&_.length?(0,T.jsxs)(c.xu,{sx:{mr:i?"30px":0,mt:4},children:[(0,T.jsx)("div",{className:"flex flex-wrap",children:(0,T.jsx)(M,{})}),(0,T.jsx)(h.Z,{tableKey:"entityNews",cols:S,rows:_,rowCountLimit:10,rowProps:e?{renderRowActions:z}:{}}),n.data&&n.data.next&&(0,T.jsx)("div",{onClick:()=>{return t((e=n.data.next,(t,i,{api:n})=>(t(b.setCustom("fetchMorePending",!0)),n.get(e).then((e=>{t(b.setMore(e)),t(b.setCustom("fetchMorePending",!1))})).catch((e=>t(b.setError()))))));var e},className:"table-row--show-more",style:{borderTop:"none"},role:"button",children:C?(0,T.jsx)(l.G,{icon:o.LM,spin:!0}):(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(l.G,{icon:r.pt,style:{marginRight:8}}),(0,T.jsx)("span",{children:"SHOW MORE"})]})})]}):null}},95477:(e,t,i)=>{i.d(t,{Z:()=>g});var n=i(25832),s=i(92739),r=i(27378),o=i(55480),l=i(91036),a=i(85893),c=i(2299),d=i(61737),u=i(81606),h=i(11839),p=i(28206),m=i(18451),v=i(24246);const f=({title:e})=>{const t=(0,a.Z)({title:e});return(0,v.jsxs)(o.xv,{as:"h3",variant:"entityTableHeader",id:t,children:[(0,v.jsx)(s.G,{style:{marginRight:8,fontSize:"0.8em"},icon:n.KS}),e]})},x=({query:e})=>{const t=(0,p.C)((e=>e.editor.editMode)),i=(0,u.Z)({ids:[],templateEntityId:e.constraintId,isQueryWidget:!0}),n=(0,h.Z)({query:e,fields:i.map((e=>e.fieldTypeId)),queryOptions:{enabled:!(null==i||!i.length),keepPreviousData:!1,refetchOnMount:!1},initialPageSize:5,initialOrdering:e.order});return(0,r.useMemo)((()=>!n.data||n.data.count),[n])||t?(0,v.jsxs)("div",{children:[(0,v.jsxs)("div",{className:"flex content-between mb-3",children:[(0,v.jsx)(f,{title:e.heading}),t?null:(0,v.jsxs)("div",{className:"ml-auto",children:[(0,v.jsx)(l.Z,{allResults:!0,resultsQuery:e}),(0,v.jsx)(c.h,{query:e})]})]}),(0,v.jsx)(d.Z,{frontEndQuery:e,contextData:n,columns:i})]}):null},g=()=>(0,p.C)(m.Vu).map((e=>(0,v.jsx)(x,{query:e},e.key)))},53639:(e,t,i)=>{i.d(t,{Z:()=>ye});var n=i(11512),s=i(71236),r=i(27378),o=i(52564),l=i(94608),a=i(87389),c=i(85274),d=i(28206),u=i(69809),h=i(89856),p=i(23113),m=i(12646),v=i(77038),f=i(97310),x=i(88193),g=i(92739),C=i(55480),y=i(92725),b=i(21020),j=i(84891),k=i(24246);const w=({onClick:e,children:t,editMode:i=!1})=>{const{isLocked:n,message:s}=(0,d.C)(u.VW),o=n?(0,y.vl)((()=>({tooltip:s,sx:{width:"100%"}})))(j.R):r.Fragment;return(0,k.jsx)(o,{children:(0,k.jsx)(b.ZP,{intent:"neutral",onClick:e,iconBefore:(0,k.jsx)(C.xu,{sx:{color:"textGold"},children:(0,k.jsx)(g.G,{icon:i?x.Xc:f.r8})}),sx:{width:"100%",height:48,justifyContent:"start",pl:"12px"},disabled:n,children:t})})};var T=i(23543);const S=(0,s.TB)("mod+shift+e"),N=(0,h.Z)((e=>{var t,i;const{editor:{editMode:n}}=e;return((null===(t=e.entity)||void 0===t||null===(i=t[n?"entityDraft":"entity"])||void 0===i?void 0:i.infobox)||[]).filter((e=>(0,a.Z)(e))).filter((t=>{var i;const n=(0,v.zi)(e.infoboxFieldTypes.data,t.name);return!n.display_as_query||!(null!==(i=n.constraints)&&void 0!==i&&i.length)||!n.inverse_of}))}),(e=>{var t;const{editor:{editMode:i},entity:n}=e;return{editMode:i,infobox:null==n||null===(t=n[i?"entityDraft":"entity"])||void 0===t?void 0:t.infobox}})),M=(0,m.Z)((()=>{const e=(0,d.T)(),t=(0,o.$B)(),i=(0,d.C)((e=>e.user.isPrivate)),s=(0,d.C)((e=>e.editor.editMode)),a=(0,d.C)((e=>N(e))),h=(0,d.C)(T.s),m=0===a.length,v=(0,r.useCallback)((()=>{e((0,p.pb)()).then((()=>{s?e((0,n.VF)({pathname:`${t.url}/structured_data`})):e((0,u.ns)({selectEditMode:!1})).then((i=>{i&&e((0,n.VF)({pathname:`${t.url}/structured_data`}))}))}))}),[s,e,t]);return(0,r.useEffect)((()=>{const e=e=>{c.S2&&!i&&S(e)&&(e.preventDefault(),v())};return window.addEventListener("keydown",e,!1),()=>{window.removeEventListener("keydown",e,!1)}}),[v,i]),m&&!c.S2?null:(0,k.jsxs)("div",{className:"sm:pr-0",children:[(0,k.jsx)("div",{className:"p-8",children:(0,k.jsxs)(w,{onClick:v,editMode:!m,children:[m?"Add ":"Edit ","structured data"]})}),(0,k.jsx)(l.Z,{fields:h.concat(a)})]})}));i(73902);var E=i(23884),_=i(33268),Z=i(24158),z=i(42577),L=i(25453),D=i(12077),P=i(46490),I=i(18574),F=i(60042),B=i.n(F),R=i(52689),V=i(28862),A=i(68625),O=i(77439),H=i(88460);const U=(0,H.Z)("ListGroupItem"),$=({children:e,className:t,medal:i,rank:n,to:s,entity:r,onClick:o,onClose:l,theme:a,...c})=>{const d=i&&(0,k.jsx)(K,{medal:i}),u=n&&(0,k.jsx)(q,{rank:n}),h=l&&(0,k.jsx)(V.Z,{className:U("close-button"),onClick:e=>{e.preventDefault(),l()}}),p=(0,k.jsxs)(k.Fragment,{children:[d,u,e,h]});return(0,k.jsx)("li",{className:B()(U(),t),...c,children:r?(0,k.jsx)(A.a,{slug:r.slug,entityOrgSlug:(0,O.Z)(r),className:B()(U("container"),U("container",["link",`theme-${a}`])),children:p}):s?(0,k.jsx)(R.rU,{className:B()(U("container"),U("container",["link",`theme-${a}`])),to:s,children:p}):o?(0,k.jsx)("a",{className:B()(U("container"),U("container",["link",`theme-${a}`])),onClick:o,children:p}):(0,k.jsx)("div",{className:B()(U("container"),U("container",["link",`theme-${a}`])),children:p})})};$.defaultProps={theme:"normal"};const G=$,q=({rank:e})=>(0,k.jsx)("span",{className:U("rank"),children:e}),K=({medal:e})=>(0,k.jsx)("span",{className:B()(U("medal"),U("medal",e))}),W=({to:e,...t})=>(0,k.jsx)(G,{to:e,...t}),X=(0,H.Z)("ListGroupTextButton"),Y=({children:e,to:t,onClick:i})=>(0,k.jsx)(W,{to:t,onClick:i,className:X(),theme:"dark",children:(0,k.jsx)("span",{className:X("container"),children:e})});var Q=i(86333);function J(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const ee=({entityId:e,hidden:t,onClose:i})=>{const n=(0,I.X2)(e),s=(0,r.useCallback)((()=>i({...n,id:e})),[i,n,e]);return n?(0,k.jsx)(W,{entity:n,onClose:i&&s,style:t?{display:"none"}:{},children:(0,k.jsx)(Q.Z,{thumbnail:n.thumbnail,title:n.name,subtitle:(0,z.Ad)((0,D.Z)(n.description,n.generated_description,n.prefers_generated)),isExpandable:!0,tags:n.instance_of,hideTags:!0})},n.slug):null};class te extends r.Component{constructor(e,t){super(e,t),J(this,"onBlur",(()=>this.toggleAddTopic())),J(this,"onClickPlaceholder",(()=>{this.props.actions.checkForRestrictedUser().then((()=>{this.props.actions.setAddingRelOrCatFlag(this.props.listKey),this.props.actions.editorEnter()}))})),J(this,"onKeyDown",(e=>{"Escape"===e.key&&this.toggleAddTopic()})),J(this,"onSelect",(e=>{this.onUpdateLinkedTopics("add",e)})),J(this,"onCloseLink",(e=>{this.onUpdateLinkedTopics("remove",e)})),J(this,"toggleAddTopic",(()=>{this.setState({addingTopic:!this.state.addingTopic},(()=>{if(this.state.addingTopic){const e=document.getElementById(this.props.listKey);e&&e.focus()}}))})),this.state={addingTopic:!1,numberOfLinks:5}}componentDidMount(){this.props.addingRelOrCatFlag===this.props.listKey&&this.props.editMode&&this.toggleAddTopic()}UNSAFE_componentWillReceiveProps(e){e.editMode||this.setState({numberOfLinks:5})}onUpdateLinkedTopics(e,t){const i=t.id;let n=this.props.entityIds.slice();switch(e){case"add":-1===n.indexOf(t.id)&&(n.push(i),this.state.addingTopic||this.toggleAddTopic());break;case"remove":n=n.filter((e=>e!==i))}this.props.actions.entityDraftPatchValue([this.props.listKey,"entities"],n)}renderPlaceholder(){if(!c.S2)return null;const e="related"===this.props.listKey?"Add a related topic":"Add a category";return(0,k.jsx)(w,{onClick:this.onClickPlaceholder,children:e})}renderAddItem(){return this.state.addingTopic?(0,k.jsx)("li",{className:"TopicList__link__wrapper TopicList__Autosuggest",children:(0,k.jsx)(_.ZP,{onSelect:this.onSelect,onBlur:this.onBlur,onKeyDown:this.onKeyDown,contextEntityIds:this.props.entityIds,footerOptions:["show-all","create"],autoFocus:!0,sx:{border:0,lineHeight:"33px"}})}):(0,k.jsxs)(G,{onClick:this.toggleAddTopic,children:[(0,k.jsx)("button",{className:"button button--blue button--plusOnly TopicList__addTopicButton",children:"+"}),(0,k.jsx)("span",{className:"TopicList__link__addTopicLabel",children:"Add a topic"})]})}renderShowMore(){return(0,k.jsx)(Y,{onClick:()=>this.setState({numberOfLinks:this.state.numberOfLinks+10}),children:"Show More"})}render(){return 0!==this.props.entityCount||this.props.editMode?(0,k.jsx)("div",{children:(0,k.jsxs)("ul",{className:"TopicList__list",children:[this.props.entityIds.map(((e,t)=>(0,k.jsx)(ee,{entityId:e,onClose:this.props.editMode?this.onCloseLink:void 0,hidden:!this.props.editMode&&t>=this.state.numberOfLinks},e))),this.props.editMode?this.renderAddItem():this.state.numberOfLinks<this.props.entityCount&&this.renderShowMore()]})}):this.renderPlaceholder()}}const ie=(0,P.qx)({entityDraftPatchValue:L.Ug,setAddingRelOrCatFlag:L.i3,editorEnter:u.ns,checkForRestrictedUser:p.pb}),ne=(0,E.$j)(((e,t)=>{var i,n,s,r,o,l;const a=e.editor.editMode?"entityDraft":"entity",c=(null===(i=e.entity)||void 0===i||null===(n=i[a])||void 0===n||null===(s=n[t.listKey])||void 0===s?void 0:s.entities)||Z.LZ,d=e.data.entitiesById;return{isContributor:e.user.isContributor,slug:null===(r=e.entity)||void 0===r||null===(o=r.entity)||void 0===o||null===(l=o.structuredData)||void 0===l?void 0:l.slug,editMode:e.editor.editMode,entityIds:c,entityCount:c.reduce(((e,t)=>d[t]?e+1:e),0),addingRelOrCatFlag:e.entity.addingRelOrCatFlag}}),ie)(te);var se=i(12631);const re=(0,H.Z)("Sidebar"),oe=({children:e})=>{const t=(0,d.C)((e=>e.entity.infoBoxOpened)),i=(0,d.T)(),n=(0,r.useCallback)((()=>i((0,L.Ud)())),[i]);return(0,k.jsxs)("div",{className:B()(re(),{[re(null,"expanded")]:t}),children:[(0,k.jsx)("button",{className:B()(re("button"),{[re("button","expanded")]:t}),onClick:n,children:(0,k.jsx)(g.G,{icon:se.YH})}),(0,k.jsx)("div",{className:B()(re("container"),{[re("container","expanded")]:t}),children:e}),t&&(0,k.jsx)("div",{className:re("overlay"),onClick:n})]})};var le,ae,ce,de=i(55046),ue=i(44981),he=i(30374),pe=i(43087),me=i(65923),ve=i(46365);class fe extends r.Component{static renderContributor(e,t){return(0,k.jsxs)("li",{className:"TopicList__link__wrapper TopicList__link__wrapper--"+(0===t?"gold":1===t?"silver":2===t?"bronze":"other"),children:[(0,k.jsx)("span",{className:"TopicList__rank",children:t+1}),(0,k.jsxs)(R.rU,{className:"TopicList__link TopicList__link--contributor",to:`/profile/${e.user.username}`,children:[(0,k.jsx)(ue.ZP,{className:"TopicList__link__img img-circle",src:e.user.thumbnail,size:he.xC,fallback:pe,alt:e.user.username}),(0,k.jsx)("p",{className:"TopicList__link__name",children:e.user.name}),(0,k.jsx)("span",{className:"TopicList__link__bio",children:e.user.bio})]})]},e.user.username)}componentDidMount(){this.props.contributorsSlug!==this.props.slug&&this.props.actions.entityFetchTopContributors(this.props.slug)}UNSAFE_componentWillReceiveProps(e){e.slug!==this.props.slug&&this.props.actions.entityFetchTopContributors(e.slug)}renderShowMore(){return this.props.contributors.length<=10||this.props.pathname.match(/contributors/)?null:(0,k.jsx)("li",{className:"TopicList__link__wrapper",children:(0,k.jsx)("button",{className:"TopicList__button--load-more",onClick:()=>{this.props.dispatch((0,n.VF)((0,ve.I)(this.props.slug,this.props.entityOrgSlug,this.props.currentOrgSlug,"/contributors"))),window.scrollTo(0,0)},children:"See All Contributors"})},"see-all")}renderContributors(){return this.props.pendingFetch?(0,k.jsx)("div",{className:"text-center",children:(0,k.jsx)(g.G,{icon:de.LM,spin:!0})}):this.props.contributors.length?(0,k.jsxs)("ul",{className:"TopicList__list",children:[this.props.contributors.map(fe.renderContributor),this.renderShowMore()]}):(0,k.jsx)("div",{className:"TopicDetail__placeholder",children:"Be the first contributor by making edits"})}render(){return(0,k.jsxs)("div",{children:[(0,k.jsx)("h4",{className:"EntityTopContributors__heading",children:"Contributors"}),this.renderContributors()]})}}le=fe,ce={contributorsSlug:"",contributors:[]},(ae=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(ae="defaultProps"))in le?Object.defineProperty(le,ae,{value:ce,enumerable:!0,configurable:!0,writable:!0}):le[ae]=ce;const xe=(0,P.qx)({entityFetchTopContributors:L.w1}),ge=(0,y.qC)(o.EN,(0,E.$j)(((e,t)=>{var i,n,s,r,o,l;return{slug:null===(i=e.entity)||void 0===i||null===(n=i.entity)||void 0===n||null===(s=n.structuredData)||void 0===s?void 0:s.slug,entityOrgSlug:null===(r=e.entity)||void 0===r||null===(o=r.entity)||void 0===o||null===(l=o.organization)||void 0===l?void 0:l.slug,currentOrgSlug:(0,me.jt)(e),contributors:e.entity.entityTopContributors,pendingFetch:e.entity.pendingEntityTopContributors,contributorsSlug:e.entity.entityTopContributorsSlug,pathname:t.location.pathname}}),xe))(fe),Ce=(0,H.Z)("EntitySidebar"),ye=()=>(0,k.jsx)("div",{className:Ce(),children:(0,k.jsx)("div",{className:Ce("container"),children:(0,k.jsxs)(oe,{children:[(0,k.jsx)(M,{}),(0,k.jsx)("h4",{className:Ce("heading"),children:"Categories"}),(0,k.jsx)("div",{className:Ce("box"),children:(0,k.jsx)(ne,{listKey:"categories"})}),(0,k.jsx)("h4",{className:Ce("heading"),children:"Related Topics"}),(0,k.jsx)("div",{className:Ce("box"),children:(0,k.jsx)(ne,{listKey:"related"})}),(0,k.jsx)("div",{className:Ce("box","gapOnTop"),children:(0,k.jsx)(ge,{})})]})})})},25009:(e,t,i)=>{i.d(t,{Z:()=>u});var n=i(60042),s=i.n(n),r=i(2696),o=i(88460),l=i(56274),a=i(24246);const c=(0,o.Z)("InputAutogen"),d=({value:e,className:t,placeholder:i,onSubmit:n,onChange:o,isPending:d,onClick:u,inputRef:h,error:p,success:m})=>(0,a.jsxs)("div",{className:s()(c(),t),onClick:u,children:[(0,a.jsx)(r.Z,{type:"text",placeholder:i,className:s()(c("input"),{pending:d}),value:e,onChange:o,inputRef:h,onPaste:n,onKeyDown:e=>{"Enter"===e.key&&n(e)},error:p}),(0,a.jsx)(l.Z,{className:s()(c("icon"),{error:p,success:m}),shouldAnimate:d,onClick:n})]});d.defaultProps={placeholder:"Auto-extract from URL",onSubmit:()=>{},error:!1,isPending:!1};const u=d},3781:(e,t,i)=>{i.d(t,{Z:()=>m});var n=i(27378),s=i(23884),r=i(55480),o=i(85893),l=i(29296),a=i(76553),c=i(46490),d=i(24246);const u=()=>{const e=(0,o.Z)({title:"References"});return(0,d.jsx)(r.xv,{as:"h3",variant:"entityTableHeader",id:e,children:"References"})};class h extends n.PureComponent{componentDidMount(){this.props.citations.length&&this.props.actions.dataFetchCitations(this.props.citations)}componentDidUpdate(e){e.citations!==this.props.citations&&this.props.actions.dataFetchCitations(this.props.citations)}render(){return this.props.citations.length?(0,d.jsxs)("div",{style:{marginTop:20},children:[(0,d.jsx)(u,{}),(0,d.jsx)(l.Z,{citations:this.props.citations,scrollable:!0})]},"references"):null}}const p=(0,c.qx)({dataFetchCitations:a.LS}),m=(0,s.$j)((e=>({citations:e.editor.citations})),p)(h)},26791:(e,t,i)=>{i.d(t,{D:()=>n});const n={furtherResources:i(78143).cn}},89750:(e,t,i)=>{i.d(t,{Z:()=>N});var n=i(60042),s=i.n(n),r=i(27378),o=i(23884),l=i(55480),a=i(66222),c=i(92887),d=i(24158),u=i(6552),h=i(24246);const p=()=>(0,h.jsx)(c.Z,{image:"data:image/svg+xml,%3csvg width='368' height='94' xmlns='http://www.w3.org/2000/svg'%3e%3cg fill='none' fill-rule='evenodd'%3e%3cpath d='M300.057 92.678C300.057 91.76 259.55 23 186.84 23 114.13 23 72 94.059 72 93.289c0-.77 228.057.306 228.057-.611z' fill='%23F5F5F5'/%3e%3cpath fill='white' fill-rule='nonzero' d='M152 73h3V23h-3z'/%3e%3cpath fill='%23CCC' fill-rule='nonzero' d='M200 73h3V23h-3z'/%3e%3cpath fill='%23E3E4E5' fill-rule='nonzero' d='M154 73h45V33h-45z'/%3e%3cpath fill='%23F0F0F0' fill-rule='nonzero' d='M154 33h45V23h-45z'/%3e%3cpath d='M157 28.5c0 1.38-.671 2.5-1.5 2.5s-1.5-1.12-1.5-2.5.671-2.5 1.5-2.5 1.5 1.12 1.5 2.5' fill='%23E3E4E5' fill-rule='nonzero'/%3e%3cpath d='M157.5 26c-.172 0-.338.017-.5.05.76.232 1.333 1.24 1.333 2.45 0 1.21-.572 2.218-1.333 2.45a2.5 2.5 0 1 0 .5-4.95' fill='%23CCC' fill-rule='nonzero'/%3e%3cpath d='M165 28.5c0 1.38-.671 2.5-1.5 2.5s-1.5-1.12-1.5-2.5.671-2.5 1.5-2.5 1.5 1.12 1.5 2.5' fill='%23E3E4E5' fill-rule='nonzero'/%3e%3cpath d='M164.5 26c-.172 0-.338.017-.5.05.76.232 1.333 1.24 1.333 2.45 0 1.21-.572 2.218-1.333 2.45a2.5 2.5 0 1 0 .5-4.95' fill='%23CCC' fill-rule='nonzero'/%3e%3cpath d='M173 28.5c0 1.38-.671 2.5-1.5 2.5s-1.5-1.12-1.5-2.5.671-2.5 1.5-2.5 1.5 1.12 1.5 2.5' fill='%23E3E4E5' fill-rule='nonzero'/%3e%3cpath d='M172.5 26c-.172 0-.338.017-.5.05.76.232 1.333 1.24 1.333 2.45 0 1.21-.572 2.218-1.333 2.45a2.5 2.5 0 1 0 .5-4.95' fill='%23CCC' fill-rule='nonzero'/%3e%3cpath stroke='%23B7B7B7' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' d='M202 67.75V73h-50V45m0-6.774V33h50v27'/%3e%3cpath d='M153 42a1 1 0 1 0-2 0 1 1 0 0 0 2 0' fill='%23B7B7B7' fill-rule='nonzero'/%3e%3cpath d='M202 64v1' stroke='%23B7B7B7' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'/%3e%3cpath d='M169 46a4 4 0 1 1-8 0 4 4 0 0 1 8 0' fill='%23E0E0E0' fill-rule='nonzero'/%3e%3cpath d='M166 46c0 2.209-1.12 4-2.5 4s-2.5-1.791-2.5-4 1.12-4 2.5-4 2.5 1.791 2.5 4' fill='%23CCC' fill-rule='nonzero'/%3e%3cpath fill='%23F0F0F0' fill-rule='nonzero' d='m184.875 48-8.822 10.082-5.163-4.925L156 66v3h42v-8.571z'/%3e%3cpath d='M159 28.5a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0h0zm8 0a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0h0zm8 0a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0h0z' stroke='%23B7B7B7' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'/%3e%3cpath stroke='%23B7B7B7' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' d='M152 33h50V23h-50zm4 36h42V38h-42z'/%3e%3cpath d='M169 46a4 4 0 1 1-8 0 4 4 0 0 1 8 0h0zm-13 20 14.595-13L180 62.515m-4-4.998L185.059 48 198 60' stroke='%23B7B7B7' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'/%3e%3cpath d='M207 .014h-1l1 11a2 2 0 0 0 2 2h9v44c0 1.105-.768 2-1.714 2h3.421c.714 0 1.293-.579 1.293-1.293V13.014l-14-13z' fill='%23E2E3E5' fill-rule='nonzero'/%3e%3cpath d='M218 13.014h-10a2 2 0 0 1-2-2v-10l12 12z' fill='%23CCC' fill-rule='nonzero'/%3e%3cpath d='M215 13.014h-7.286c-.946 0-1.714-.895-1.714-2v-10h-25.286c-.946 0-1.714.895-1.714 2v54c0 1.105.768 2 1.714 2h32.572c.946 0 1.714-.895 1.714-2v-44z' fill='%23E2E3E5' fill-rule='nonzero'/%3e%3cpath d='M215 13.014v44c0 1.105-.768 2-1.714 2H216a2 2 0 0 0 2-2v-44h-3z' fill='%23CCC' fill-rule='nonzero'/%3e%3cpath d='M179 57.014v-54c0-1.105.768-2 1.714-2H178a2 2 0 0 0-2 2v54a2 2 0 0 0 2 2h2.714c-.946 0-1.714-.895-1.714-2' fill='white' fill-rule='nonzero'/%3e%3cpath d='M176 26.014v31a2 2 0 0 0 2 2h38a2 2 0 0 0 2-2v-44h-10a2 2 0 0 1-2-2v-10h-28a2 2 0 0 0-2 2v15' stroke='%23B6B6B6' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'/%3e%3cpath d='M177 22.014a1 1 0 1 0-2 0 1 1 0 0 0 2 0' fill='%23B6B6B6' fill-rule='nonzero'/%3e%3cpath fill='%23CCC' fill-rule='nonzero' d='M200 37.014h9v-12h-9zm9 0h3v-12h-3z'/%3e%3cpath d='M218 13.014h-10a2 2 0 0 1-2-2v-10l12 12h0zm-36 0h18m-18 6h30m-30 6h13m-13 6h13m-13 6h13m-13 6h30m-30 6h30m-12-12h12v-12h-12z' stroke='%23B6B6B6' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'/%3e%3cpath d='M.5 92.5h367' stroke='%23EEE' stroke-linecap='square'/%3e%3c/g%3e%3c/svg%3e",minHeight:u.cU,children:(0,h.jsxs)(l.xv,{variant:"body1",sx:{lineHeight:"spacious"},children:["Help us improve this page by adding information. ",(0,h.jsx)("br",{}),"Visit our"," ",(0,h.jsx)(a.Z,{href:d.yq.WRITING_GUIDE,children:"Writing Guide"})," ","or this"," ",(0,h.jsx)(a.Z,{href:"https://golden.com/wiki/Ginkgo_Bioworks",children:"topic page"})," ","for additional help."]})});var m=i(85274),v=i(15091),f=i(92849),x=i(94432),g=i(50381),C=i(42577),y=i(37451),b=i(25453),j=i(29191),k=i(46490);function w(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const T=["article"];class S extends r.PureComponent{constructor(...e){super(...e),w(this,"onChange",(e=>{this.props.actions.entityDraftPatchValue(["article","value"],e)})),w(this,"onRef",(e=>{j.Z[g.eL]=e}))}render(){const{article:e}=this.props,t=!(0,C.Ad)(e),i=s()("Editor Editor--article",{"Editor--active":!this.props.readOnly});return(0,h.jsx)(y.Z,{disabled:t,children:this.props.readOnly?m.S2&&t?(0,h.jsx)(p,{}):(0,h.jsx)(f.Z,{documentGolden:e,className:i,renderFlags:T}):(0,h.jsx)(x.ZP,{editorKey:g.eL,className:i,readOnly:this.props.readOnly,documentGolden:e,onChange:this.onChange,onRef:this.onRef,placeholder:(0,h.jsx)(v.Z,{copy:"Please enter something about "}),renderFlags:T})})}}const N=(0,o.$j)((e=>{var t,i;const n=e.editor.editMode?"entityDraft":"entity";return{article:null===(t=e.entity)||void 0===t||null===(i=t[n])||void 0===i?void 0:i.article.value,readOnly:!e.editor.editMode,name:e.entity.entity.structuredData.name}}),(0,k.qx)({entityDraftPatchValue:b.Ug}))(S)},53221:(e,t,i)=>{i.r(t),i.d(t,{default:()=>_});var n=i(11628),s=i(27378),r=i(23884),o=i(55480),l=i(7856),a=i(37067),c=i(68493),d=i(95477),u=i(53639),h=i(45347),p=i(3781),m=i(85274),v=i(24158),f=i(26791),x=i(95164),g=i(89750),C=i(69809),y=i(25453),b=i(88460),j=i(46490),k=i(84826),w=i(67412),T=i(24246);function S(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const N=(0,b.Z)("EntityOverview"),M=(0,n.ZP)({resolved:{},chunkName:()=>"components-AutogenDrawer-AutogenDrawer",isReady(e){const t=this.resolve(e);return!0===this.resolved[t]&&!!i.m[t]},importAsync:()=>i.e(5919).then(i.bind(i,4231)),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then((e=>(this.resolved[t]=!0,e)))},requireSync(e){const t=this.resolve(e);return i(t)},resolve:()=>4231},{ssr:!1});class E extends s.PureComponent{constructor(...e){super(...e),S(this,"onChangeStandardTable",((e,t)=>{this.props.actions.editorSet({standardTables:{...this.props.standardTables,[e]:t}})})),S(this,"onSaveStandardTable",((e,{rows:t})=>this.props.actions.entityDraftPatchValue(["structuredData","standardTables",e],t)))}renderStandardTables(){const{standardTables:e}=this.props;return x.filter((e=>!e.deprecated)).map((t=>{const i=e[t.key]||v.LZ,n=f.D[t.key];return(0,T.jsx)(o.xu,{sx:{mt:20,mb:10,position:"relative"},children:(0,T.jsx)(h.Z,{title:t.header,titleIcon:n,isStandardTable:!0,cols:t.structure.columns,rows:i,onChange:e=>this.onSaveStandardTable(t.key,e),setRows:e=>this.onChangeStandardTable(t.key,e),tableKey:t.key,isReadOnly:!this.props.editMode})},t.key)}))}render(){return(0,T.jsx)("div",{className:N(),children:(0,T.jsxs)("div",{className:"TopicDetail__overview",children:[(0,T.jsxs)("div",{className:"TopicDetail__innerWrapper",id:"content",children:[(0,T.jsx)("div",{className:"TopicDetail__inner--body",children:(0,T.jsxs)("div",{className:"TopicDetail__overview__block",children:[(0,T.jsx)(g.Z,{}),(0,T.jsx)(o.xu,{sx:{mt:20,mb:10},children:(0,T.jsx)(w.Z,{})}),(0,T.jsx)(d.Z,{}),this.renderStandardTables(),(0,T.jsx)(c.Z,{}),(0,T.jsx)(p.Z,{})]})}),(0,T.jsx)(u.Z,{}),m.S2&&(0,T.jsx)(M,{})]}),(0,T.jsx)(a.Z,{})]})},this.props.draftFetchId)}}S(E,"defaultProps",{standardTables:{}});const _=(0,r.$j)((e=>({editMode:e.editor.editMode,standardTables:e.editor.standardTables,draftFetchId:e.entity.draftFetchId})),(0,j.qx)({editorSet:C.qn,entityDraftPatchValue:y.Ug}))((0,k.Z)(l.Z)(E))},67412:(e,t,i)=>{i.d(t,{Z:()=>R}),i(73902);var n=i(7874),s=i(82593),r=i(92739),o=i(27378),l=i(52564),a=i(55480),c=i(43028),d=i.n(c),u=i(21020),h=i(85893),p=i(69554),m=i(7703),v=i(25009),f=i(83707),x=i(63730),g=i(85274),C=i(24158),y=i(85976),b=i(46345),j=i(50381),k=i(42577);const w=({contents:e,date:t})=>C.m7.test((0,k.Ad)(e))&&t.year>0;var T=i(28206),S=i(75255),N=i(69809),M=i(25453),E=i(17781),_=i(23113),Z=i(35298),z=i(13891),L=i(51493),D=i(16342),P=i(71074),I=i(24246);const F=(0,k.Sl)("",j.xd.h2),B=()=>{const e=(0,h.Z)({title:"Timeline"});return(0,I.jsxs)(a.xv,{as:"h3",variant:"entityTableHeader",sx:{mb:0},id:e,children:[(0,I.jsx)(r.G,{style:{marginRight:8,fontSize:"0.8em"},icon:n.SZ}),"Timeline"]})},R=(0,l.EN)((({location:e,history:t})=>{const i=(0,T.T)(),n=(0,T.C)((e=>e.entity.entity)),l=(0,T.C)((e=>(0,E.fR)(e))),c=(0,T.C)((e=>e.editor.editMode)),h=(0,T.C)((e=>{var t,i;return(null==e||null===(t=e.autogen)||void 0===t||null===(i=t.timelineEvent)||void 0===i?void 0:i.status)||L.ib})),j=(0,T.C)((e=>{var t,i;return(null==e||null===(t=e.autogen)||void 0===t||null===(i=t.timelineEvent)||void 0===i?void 0:i.error)||""})),R=(0,T.C)((e=>{var t,i;return null==e||null===(t=e.autogen)||void 0===t||null===(i=t.timelineEvent)||void 0===i?void 0:i.url})),V=(0,T.C)((e=>e.user.isPrivate)),{isLocked:A}=(0,T.C)(N.VW),O=!A&&!V&&g.S2&&(c||!l.length),H=(0,p.Z)(b.Xk.ENTITY,n,{details:{timeline:!0}}),{page:U,pageSize:$,pagesCount:G,currentPage:q,setCurrentPage:K}=(0,P.h)({pageSize:10,list:l}),W=(0,o.useCallback)(((e,{isEmpty:t})=>{let n=!0;const s=l.reduce(((i,s)=>(t&&!w(s)||(s.key!==e.key||e.infoboxEvent?i.push(s):(n=!1,i.push(e))),i)),[]);n&&s.push(e),s.sort(D.Z);const r=s.findIndex((t=>t===e)),o=Math.ceil((r+1)/$);o!==q&&K(o);const a=s.filter((e=>!e.infoboxEvent));i((0,N.qn)({events:a})),t||i((0,M.Ug)(["timeline","events"],a.filter(w).map(k.pj)))}),[l,$,q,i,K]),X=(0,o.useCallback)((()=>{K(1),W({key:(0,z.Vj)(),date:m.Z.getTodayValue(),contents:F},{isEmpty:!0})}),[W,K]),Y=(0,o.useCallback)((()=>{i((0,_.F1)({copy:"add new event",action:"edit-timeline"})).then((()=>{c?X():i((0,N.ns)()).then((e=>{e&&X()}))}))}),[X,c,i]);(0,o.useEffect)((()=>((0,Z.Z)({location:e,history:t,actionName:"edit-timeline",callback:Y}),()=>i((0,S.aP)()))),[i,t,e,Y]);const Q=(0,o.useCallback)((e=>{const t=l.filter((e=>!e.infoboxEvent)),n=t.filter((t=>t.key!==e.key));i((0,N.qn)({events:n})),i((0,M.Ug)(["timeline","events"],n.map(k.pj)))}),[l,i]),J=(0,o.useCallback)((e=>{const t=e.target.value;c?i((0,S.IG)(t)):i((0,N.ns)()).then((e=>{e&&i((0,S.IG)(t))}))}),[i,c]),ee=(0,o.useCallback)((e=>{K(e);const t=document.getElementById("timeline-block");t&&d()(t,{time:200,align:{top:0,topOffset:C.S_}})}),[K]);return(0,I.jsxs)(a.xu,{sx:{mb:3},id:"timeline-block",children:[(O||l.length>0)&&(0,I.jsxs)(a.kC,{sx:{alignItems:"center",mb:2},children:[(0,I.jsx)(B,{}),(0,I.jsx)(y.Z,{wizardInitialState:H,appearance:"secondary",tooltip:null,sx:{ml:3,px:2},iconStyles:{color:"textGold"}})]}),O&&(0,I.jsxs)(a.kC,{children:[(0,I.jsx)(u.ZP,{intent:"neutral",onClick:Y,iconBefore:(0,I.jsx)(a.xu,{sx:{color:"textGold"},children:(0,I.jsx)(r.G,{icon:s.r8})}),sx:{flexShrink:0},children:"Add new event"}),(0,I.jsxs)(a.xu,{sx:{flex:1,ml:3,position:"relative"},children:[(0,I.jsx)(v.Z,{error:h===L.Un,success:h===L.zv,value:R,onChange:J,isPending:h===L.Ku,placeholder:"Create from URL"}),h===L.Un&&j&&(0,I.jsx)(a.xu,{sx:{position:"absolute",bottom:"100%",color:"error"},children:(0,I.jsx)(a.xv,{variant:"small",children:j})})]})]}),(0,I.jsx)(a.xu,{sx:{pl:"20px",mt:3},children:U.map((e=>(0,I.jsx)(x.Z,{event:e,onChange:W,onDelete:Q},e.key)))}),G>1&&(0,I.jsx)(f.Z,{resultsCount:l.length,currentPage:q,pageSize:$,fetchPage:ee,sx:{border:0}})]})}))},85976:(e,t,i)=>{i.d(t,{Z:()=>d});var n=i(27378),s=i(21020),r=i(88718),o=i(84891),l=i(11701),a=i(96256),c=i(24246);const d=({sx:e={},wizardInitialState:t,tooltip:i="If you believe the query should have more results or some information is missing, Golden AI can search it for you. You'll be notified when there are more results or information.",...d})=>{const{open:u}=(0,a.e)(),h=(0,n.useCallback)((e=>{u(e)}),[u]),p=(0,l.Z)({name:"ResearchRequestButton",callback:h,state:t}),m=(0,n.useCallback)((()=>{u(t,{onFollow:p})}),[u,p,t]);return(0,c.jsx)(o.R,{tooltip:i,disabled:!i,children:(0,c.jsx)(s.ZP,{onClick:m,iconBefore:(0,c.jsx)(r.Z,{weight:"light"}),sx:{position:"relative",...e},...d,children:"Data Request"})})}},15091:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(27378),s=i(28206),r=i(88460),o=i(24246);const l=(0,r.Z)("Placeholder"),a=(0,n.memo)((({copy:e})=>{const t=(0,s.C)((e=>{var t,i,n;return(null===(t=e.entity)||void 0===t||null===(i=t[e.editor.editMode?"entityDraft":"entity"])||void 0===i||null===(n=i.structuredData)||void 0===n?void 0:n.name)||""}));return(0,o.jsx)("span",{className:l(),children:`${e}${t}.`})}))},37451:(e,t,i)=>{i.d(t,{Z:()=>f});var n=i(34465),s=i(23117),r=i(92739),o=i(27378),l=i(84891),a=i(28206),c=i(25453),d=i(6958),u=i(23113),h=i(88460),p=i(14135),m=i(24246);const v=(0,h.Z)("Suggestible"),f=({children:e,disabled:t})=>{const i=(0,a.T)(),h=(0,o.useRef)(null),f=(0,o.useRef)(null),[x,g]=(0,o.useState)(null),C=(0,a.C)((e=>e.editor.editMode)),y=(0,a.C)((e=>e.issues.issueFormData.selection)),b=(0,o.useCallback)((e=>{!x||"mousedown"===e.type&&f.current&&f.current.contains(e.target)||g(null)}),[x,g]),j=(0,o.useCallback)((()=>g(null)),[g]),k=(0,o.useCallback)((()=>{C||i((0,u.F1)({copy:"create an issue"})).then((()=>i((0,d.Y9)(!0))))}),[i,C]),w=(0,o.useCallback)((e=>{const n=h.current;if(C||t||!n||!n.contains(e.target))return;const s=window.getSelection();if(s.rangeCount>0&&n.contains(s.focusNode)){const t=s.toString().trim(),r=s.getRangeAt(0).getBoundingClientRect(),o=n.getBoundingClientRect();if(t){const n={left:Math.min(e.clientX-o.left,window.innerWidth-o.left-90),top:r.bottom-o.top};return g(n),void i((0,d.VN)({selection:t}))}}g(null)}),[C,t,i]);(0,o.useEffect)((()=>(window.addEventListener("resize",b),window.addEventListener("mousedown",b),window.addEventListener("mouseup",w),window.addEventListener("scroll",j),()=>{window.removeEventListener("resize",b),window.removeEventListener("mousedown",b),window.removeEventListener("mouseup",w),window.removeEventListener("scroll",j)})),[j,w,b]);const T=(0,l.Z)((()=>(0,m.jsx)("button",{className:v("floaterBtn"),onMouseDown:k,children:(0,m.jsx)(r.G,{icon:n.kl})})),{tooltip:"Create Issue",className:v("buttonWrapper")}),S=(0,l.Z)((()=>(0,m.jsx)("button",{className:v("floaterBtn"),onMouseDown:()=>i((0,c.ss)(y)),children:(0,m.jsx)(r.G,{icon:s.Ef})})),{tooltip:"Share",className:v("buttonWrapper")});return(0,m.jsx)("div",{className:v(),children:(0,m.jsxs)("div",{className:v("selectable"),ref:h,children:[e,(0,m.jsxs)("div",{className:v("floater"),style:x||{display:"none"},ref:f,children:[(0,m.jsx)(p.U,{children:(0,m.jsx)(T,{})}),(0,m.jsx)(S,{})]})]})})}},17781:(e,t,i)=>{i.d(t,{Kv:()=>l,fR:()=>o,xR:()=>a});var n=i(24158),s=i(89856),r=i(16342);const o=(0,s.Z)((e=>{var t,i;return[...e.editor.events,...((null===(t=e.entity)||void 0===t||null===(i=t.entity)||void 0===i?void 0:i.generated_timeline)||[]).map((e=>({...e,infoboxEvent:!0})))].sort(r.Z)}),(e=>{var t,i;return{editableEvents:e.editor.events,generatedEvents:(null===(t=e.entity)||void 0===t||null===(i=t.entity)||void 0===i?void 0:i.generated_timeline)||n.LZ}})),l=e=>{var t,i,n;return(null==e||null===(t=e.entity)||void 0===t||null===(i=t.entity)||void 0===i||null===(n=i.structuredData)||void 0===n?void 0:n.slug)||""},a=e=>{var t,i;const n=null===(t=e.draftDiff.data)||void 0===t||null===(i=t.summary)||void 0===i?void 0:i.article;if(!n)return!1;const{characters:s,cites:r}=n;if(!s||s[0]<500)return!1;const o=Math.floor(s[0]/500);return!r||r[0]<o}},12646:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(23884),s=i(92725),r=i(51493);const o=(0,s.qC)((0,n.$j)((e=>({hasFieldTypes:(0,r.F5)(e.infoboxFieldTypes)}))),(0,s.WY)((({hasFieldTypes:e})=>!e),s.Pf))}}]);