var okxGlobal;(()=>{"use strict";var e={8066:(e,t,n)=>{n.d(t,{Jf:()=>s});var r=n(5671),a=n(3144),o=n(8361),i="okGlobalFloatLayer",c="ok-global-float-layer-box";function u(e,t){if((0,o.y)())return null;var n=document.createElement("div");return n.id=e,n.setAttribute("class",t),n}var s=new(function(){function e(){(0,r.Z)(this,e),this.isHideLayer=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!(0,o.y)()){var t=document.querySelector("#okGlobalFloatLayer"),n="ok-global-float-layer-hide-all";if(!t)return;var r=t.classList.contains(n);e?!r&&t.classList.add(n):r&&t.classList.remove(n)}},this.count=0,this.hasInsertContainer=!1,(0,o.y)()||(this.container=document.getElementById(i)||u(i,"ok-global-float-layer"),document.getElementById(i)?this.hasInsertContainer=!0:document.body&&(document.body.appendChild(this.container),this.hasInsertContainer=!0))}return(0,a.Z)(e,[{key:"setContainer",value:function(){var e=document.getElementById(i);!this.hasInsertContainer&&e?(this.container=e,this.hasInsertContainer=!0):this.hasInsertContainer||e||(this.container=u(i,"ok-global-float-layer"),document.body.appendChild(this.container),this.hasInsertContainer=!0)}},{key:"createFirstBox",value:function(e){if(!(0,o.y)()){var t;this.setContainer();var n=null===(t=document.getElementById(i))||void 0===t?void 0:t.getElementsByClassName(c)[0];if(n){var r="".concat(i,"Box").concat(this.count);this.count++;var a=u(r,c);this.container.insertBefore(a,n),e({dom:a,id:r})}else this.createLastBox(e)}}},{key:"createLastBox",value:function(e){if(!(0,o.y)()){this.setContainer();var t="".concat(i,"Box").concat(this.count);this.count++;var n=u(t,c);this.container.appendChild(n),e({dom:n,id:t})}}}]),e}())},7160:(e,t,n)=>{n.d(t,{okxGlobal:()=>Le});n(6920);var r=n(8361),a=n(1232),o=(n(4125),n(2972),n(6953),n(4329),n(4557),n(9512));const i=function(e){if(!(0,r.y)()){var t=e.nav,n=e.transparent,a=e.hideFooter,i=document.querySelector("#headerContainer"),c=document.querySelector("#footerContainer");void 0!==t&&document.body.setAttribute("data-nav",e.nav),void 0!==n&&(i&&i.setAttribute("data-transparent",String(!!n)),window.addEventListener("scroll",(0,o.Z)((function(){var e,t,n=document.body;if(!("fixed"===(null===n||void 0===n||null===(e=n.style)||void 0===e?void 0:e.position)&&"100%"===(null===n||void 0===n||null===(t=n.style)||void 0===t?void 0:t.width))){var r=0;document.documentElement&&document.documentElement.scrollTop?r=document.documentElement.scrollTop:document.body&&(r=document.body.scrollTop),i&&i.setAttribute("data-scroll",String(r>48))}}),50))),void 0!==a&&c&&c.setAttribute("data-hide",a)}};var c=n(8066),u={showAppDownloadFloat:function(e){return(0,r.y)()?null:Promise.all([n.e(736),n.e(254)]).then(n.bind(n,5254)).then((function(t){(0,t.default)(e)}))},setNav:i,setLanguageList:function(){return null},floatLayer:{createFirstBox:function(e){return(0,r.y)()?null:c.Jf.createFirstBox(e)},createLastBox:function(e){return(0,r.y)()?null:c.Jf.createLastBox(e)},isHideLayer:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(0,r.y)()?null:c.Jf.isHideLayer(e)}},hideBanner:function(e){return(0,r.y)()?null:c.Jf.isHideLayer(e)},showUpgradeBrowserDialog:function(){},setResponsive:function(){}};const s=u;const l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=a.Z.langPath+e;(0,r.y)()||(t?window.open(n):window.location.assign(n))};var g=n(4165),d=n(1413),h=n(5861),f=(n(3727),n(7120),n(4834)),v=n(5833),p=n.n(v);n(4886);function m(){var e=((arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})||{}).data;return e&&0===Number(e.code)?Promise.resolve(e):Promise.reject(e||{})}function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e||{},n=t.status,r=void 0===n?"":n,a=t.message,o=(e.response||{}).data,i={status:r,code:r,msg:(void 0===o?{}:o).msg||"",message:a};return Promise.reject(i)}var w=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(p(),n).then(m,y)}},C=(0,d.Z)((0,d.Z)({},p()),{},{post:w(p()&&p().post),delete:w(p()&&p().delete)});if(!(0,r.y)()){var b=function(e){return Promise.reject({status:e.statusCode,data:JSON.parse(e.body),headers:e.headers})};C&&C.get&&(C.get=function(e,t,n){var r={params:t};return n&&(r.customToLogin=b),p().get(e,r).catch(y).then(m)}),C.getAsync=function(){var e=(0,h.Z)((0,g.Z)().mark((function e(t,n){return(0,g.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.get(t,n);case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),C.getWithCache=function(e,t,n){var r=(0,d.Z)({},t);return n&&(r.customToLogin=b),p().getWithCache(e,r).catch(y).then(m)}}const Z=(0,r.y)()?{}:C;const _={CHECK_COUNTRY_LIMIT:"/v3/users/support/common/check-country-limit",COMMUNITY_ALL:"/v3/users/common/globalConfig/community/getAll",USER_PROFILE:"/v3/users/security/profile",POST_REFRESH_TOKEN:"/v3/users/support/refresh",GET_CHARGE_UNIT:"/v3/users/local-config/get-charge-unit",POST_CHARGE_UNIT:"/v3/users/local-config/renewal-charge-unit",GET_DEFAULT_LANGUAGE:"/v2/support/template/detail/55",GET_ACADEMY_LANGUAGE:"/v2/support/template/detail/137",GET_NEW_ACADEMY_LANGUAGE:"/v2/support/template/detail/155",GET_OPEN_LANG:"/v3/users/broker/open/lang",GET_ALL_CURRENCY:"/v3/users/common/list/currencies",GET_HOME_ACTIVITY_INFO:"/v2/support/home/web-config/info",GET_PREFERENCE:"/v3/users/local-config/settings"};var E=function(){var e=(0,h.Z)((0,g.Z)().mark((function e(t,n){var r,a,o,i,c,u,s,l,h,v,m,y,w,C,b,E,k;return(0,g.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.token,a=n._tk,o=n.pastDue,(i=n.account||localStorage.getItem("loginName"))&&localStorage.setItem("loginName",i),e.prev=3,p().saveLoginState({token:r,expireTime:o}),e.next=7,Z.getAsync(_.USER_PROFILE);case 7:0===(c=e.sent).code&&(u=c.data,s=u.realEmail,l=u.phone,h=u.nickName,v=u.currentIsSub,m=u.brokerAdmin,y=u.email,w=u.vipLevel,C=v?h:s||l,b=i||C,E=h,v||(E=b.includes("@")?y:l),k=(0,d.Z)((0,d.Z)({},u),{},{nickName:E,loginName:b}),f.Z.g.set("profile",k),localStorage.setItem("currentIsSub",v?"1":"0"),localStorage.setItem("isBrokerAdmin",m?"1":"0"),localStorage.setItem("vipLevel",w||0),b&&localStorage.setItem("nickName",E),b&&localStorage.setItem("loginName",b),localStorage.setItem("_tk",a),t(k)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),localStorage.setItem("_tk",a);case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t,n){return e.apply(this,arguments)}}();const k=function(e){return(0,r.y)()?null:new Promise((function(t){E(t,e)}))};var L=n(885),S=(n(5836),n(965),n(2790),function(e){var t=a.Z.langPath;return"".concat(t).concat(e)}),I=function(e){var t=e.forwardUrl,n=e.url,r=e.query,a=e.params,o=void 0===a?{}:a;if(t){var i="";Object.entries(o).forEach((function(e){var t=(0,L.Z)(e,2),n=t[0],r=t[1];i+="&".concat(n,"=").concat(r)}));var c=document.querySelectorAll(r),u="".concat(n).concat(t).concat(i);c.forEach((function(e){e.setAttribute("href",u)}))}};const P=function(e){var t=e.loginForward,n=void 0===t?"":t,a=e.registerForward,o=void 0===a?"":a,i=e.loginParams,c=void 0===i?{}:i,u=e.registerParams,s=void 0===u?{}:u;(0,r.y)()||(function(e,t){var n=S("/account/login?forward=");I({forwardUrl:e,url:n,query:".header-container .user-login-btn",params:t})}(n,c),function(e,t){var n=S("/account/register?action=header_register_btn&forward=");I({forwardUrl:e,url:n,query:".header-container .user-register-btn",params:t})}(o,s))};var T=n(5564),U=n.n(T);function x(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.text,n=e.size,r=void 0===n?100:n;if(!t)return"";var a=U()(t),o=document.createElement("canvas"),i=o.getContext("2d"),c=a.modules,u=r/c.length,s=r/c.length,l=(window&&window.devicePixelRatio||1)/function(e){return e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1}(i);return o.height=r*l,o.width=r*l,i.scale(l,l),c.forEach((function(e,t){e.forEach((function(e,n){i&&(i.fillStyle=e?"#000":"#fff");var r=Math.ceil((n+1)*u)-Math.floor(n*u),a=Math.ceil((t+1)*s)-Math.floor(t*s);i&&i.fillRect(Math.round(n*u),Math.round(t*s),r,a)}))})),o.toDataURL()}var A=function(e,t){e&&x&&e(x(t))},N=function(e,t){A(e,t)};const R=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=arguments.length,a=new Array(n>2?n-2:0),o=2;o<n;o++)a[o-2]=arguments[o];var i="object"===typeof e?e:(0,d.Z)({text:e,size:t},a);return!(0,r.y)()&&new Promise((function(e){N((function(t){e(t)}),i)}))};var O=n(8694),D="global_chatbot_toggled",B=function(){};const G=function(e){if(!(0,r.y)()){var t=(e||{}).needFallback;if(void 0!==t&&t)return new Promise((function(e,t){O.Z.send(D,(function(){!(arguments.length>0&&void 0!==arguments[0])||arguments[0]?e():t()}))}));O.Z.send(D,B)}return null};n(8924),n(3409);var j=n(2838),M=n.n(j),F=n(6724);const H=function(e){return!(0,r.y)()&&new Promise((function(t){!function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,o=F.Z.get("first_ref"),i=(o=o?decodeURIComponent(o):"").match(/^http(s)?:\/\/(.*?)\//),c=i?i[2]:"",u=M()(window&&(null===(t=window.utils.monitor)||void 0===t||null===(n=t.getChannelId)||void 0===n?void 0:n.call(t))),s="";/Electron/.test(navigator.userAgent)||(s=c&&u?"?first_ref=".concat(c,"&channelId=").concat(u):c?"?first_ref=".concat(c):u?"?channelId=".concat(u):"");var l="".concat(a.Z.mainDomain,"/download").concat(s);A(e,{text:l,size:r})}((function(e){t(e)}),e)}))};const W=function(){var e,t,n=F.Z.get("first_ref"),r=(n=n?decodeURIComponent(n):"").match(/^http(s)?:\/\/(.*?)\//),o=r?r[2]:"",i=M()(window&&(null===(e=window.utils.monitor)||void 0===e||null===(t=e.getChannelId)||void 0===t?void 0:t.call(e))),c="";return/Electron/.test(navigator.userAgent)||(c=o&&i?"?first_ref=".concat(o,"&channelId=").concat(i):o?"?first_ref=".concat(o):i?"?channelId=".concat(i):""),"".concat(a.Z.mainDomain,"/download").concat(c)};const z=function(e,t){(0,r.y)()||function(e){var t=e.id,n=e.schemaStr,r=document.body,a="".concat(t,"Schema"),o=document.getElementById(a);if(o)o.innerText=n;else{var i=document.createElement("script");i.type="application/ld+json",i.id=a,i.innerText=n,r.appendChild(i)}}({id:e,schemaStr:t})};var q=n(3465),K="".concat(a.Z.cdnBaseUrl,"/cdn/assets/okfe/libs/dv/zhengdao-okx-v8.2.1.min.js"),V=864e5,Y=0,J=function e(){return new Promise((function(t,n){(window&&window.raphael()).initToken((function(r,a){if(a)n(a);else{var o=Date.now()+V;!function(e,t,n){var r=t.toLocaleLowerCase();r.includes("script")||r.includes("javascript")||F.Z.set(e,t,n)}("dv_token",r,{expires:new Date(o)}),t(r),setTimeout((function(){e()}),V)}}))}))},$=function e(t,n){var r=function(r){Y<3?(Y++,e(t,n)):n(r)};(0,q.f)({url:K}).then((function(){try{var e=window&&window.raphael(),n=e.setAccessKey("com.okinc.okex-PtLwJihCtkoDPgWQR"),a=e.setEnv("https://picasso.okx-dv.net");"success"===n&&"success"===a?J().then((function(e){Y=0,t(e)})).catch(r):r({flagKey:n,flagEnv:a})}catch(o){r(o)}})).catch(r)};const Q={loadDV:function(){return!(0,r.y)()&&new Promise((function(e,t){!function(e,t){(0,q.f)({url:K}).then(e).catch(t)}(e,t)}))},postManualEvent:function(e,t){return!(0,r.y)()&&new Promise((function(n,r){!function(e,t,n,r){(0,q.f)({url:K}).then((function(){var a=(window&&window.raphael()).setZdEnv("https://zd.okx-dv.net");"success"===a?(window&&window.dvZhengdao.postManualEvent(n,r),e(window&&window.dvZhengdao)):t({flagZdEnv:a})})).catch(t)}(n,r,e,t)}))},setToken:function(){return!(0,r.y)()&&new Promise((function(e,t){$(e,t)}))}};const X={then:function(e){!(0,r.y)()&&Z.get(_.CHECK_COUNTRY_LIMIT).then((function(t){var n=t.data,r=n.cefi,a=void 0===r?{}:r,o=n.web3,i=void 0===o?{}:o,c=n.register,u=void 0===c?{}:c,s=a.limit,l=void 0!==s&&s,g=a.kycLevel;if(l||u.limit){var h=!!p().isLogin()&&g<2,f=l&&i.limit;e((0,d.Z)((0,d.Z)({},a),{},{kycRequired:h,allLimit:f,registerLimit:u.limit}))}})).catch((function(){e({country:"",displayCountryName:"",kycLevel:0,limit:!1,politStatus:0,province:"",provinceCode:"",kycRequired:!1,allLimit:!1,registerLimit:!1})}))}};const ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!(0,r.y)()){var t=f.Z.g.get("profile")||{},n=t.currentIsSub,a=t.subUserAuth||{isAllowLogin:!0,isAllowDeposit:!n,isAllowWithdraw:!n,isAllowTransfer:!0,isAllowTrading:!0,isAllowCreateApi:!0,isAllowOAuth:!0,isAllowUseFinancial:!0,isAllowUseAsset:!0,isAllowInquireTrading:!0,isAllowInquireAsset:!0};if(0===e.length)return a;var o={};return e.forEach((function(e){o[e]=a[e]})),o}return null};n(8218),n(2596);var te={zh_CN:{langPath:"cn",icon:"",language:"zh_CN",text:"\u7b80\u4f53\u4e2d\u6587"},en_US:{langPath:"en",icon:"",language:"en_US",text:"English"},zh_HK:{langPath:"hk",icon:"",language:"zh_HK",text:"\u7e41\u9ad4\u4e2d\u6587"},zh_TW:{langPath:"tw",icon:"",language:"zh_TW",text:"\u7e41\u9ad4\u4e2d\u6587"},fr_FR:{langPath:"fr",icon:"",language:"fr_FR",text:"Fran\xe7ais"},ru_RU:{langPath:"ru",icon:"",language:"ru_RU",text:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439"},th_TH:{langPath:"th",icon:"",language:"th_TH",text:"\u0e44\u0e17\u0e22"},vi_VN:{langPath:"vi",icon:"",language:"vi_VN",text:"Ti\u1ebfng Vi\u1ec7t"},in_ID:{langPath:"id",icon:"",language:"in_ID",text:"Bahasa Indonesia"},tr_TR:{langPath:"tr",icon:"",language:"tr_TR",text:"T\xfcrk\xe7e"},ko_KR:{langPath:"ko",icon:"",language:"ko_KR",text:"\ud55c\uad6d\uc5b4"},de_DE:{langPath:"de",icon:"",language:"de_DE",text:"Deutsch"},it_IT:{langPath:"it",icon:"",language:"it_IT",text:"Italiano"},pl_PL:{langPath:"pl",icon:"",language:"pl_PL",text:"Polski"},en_IN:{langPath:"en-IN",icon:"",language:"en_IN",text:"English (India)"},pt_BR:{langPath:"pt-br",icon:"",language:"pt_BR",text:"Portugu\xeas (Brasil)"},pt_PT:{langPath:"pt-pt",icon:"",language:"pt_PT",text:"Portugu\xeas (Portugal)"},es_ES:{langPath:"es-es",icon:"",language:"es_ES",text:"Espa\xf1ol (Espa\xf1a)"},es_419:{langPath:"es-la",icon:"",language:"es_419",text:"Espa\xf1ol (Latinoam\xe9rica)"},cs_CZ:{langPath:"cs",icon:"",language:"cs_CZ",text:"\u010ce\u0161tina"},ro_RO:{langPath:"ro",icon:"",language:"ro_RO",text:"Rom\xe2n\u0103"},uk_UA:{langPath:"uk-ua",icon:"",language:"uk_UA",text:"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430"}},ne=[{language:"zh_CN",href:"/cn/learn"},{language:"en_US",href:"/learn"},{language:"th_TH",href:"/th/learn"},{language:"tr_TR",href:"/tr/learn"},{language:"in_ID",href:"/id/learn"},{language:"es_ES",href:"/es-es/learn"},{language:"ru_RU",href:"/ru/learn"},{language:"vi_VN",href:"/vi/learn"},{language:"pt_BR",href:"/pt-br/learn"}],re=function(e){var t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=a.Z.langPath;return e.toLowerCase().startsWith("".concat(t,"/learn"))}(e);return function(e,t){var n=a.Z.localeMap,r={},o={};"object"===typeof e?e.forEach((function(e){var t=e.language,n=e.href;r[t.toLowerCase()]={href:n}})):Object.entries(n).forEach((function(e){var t=(0,L.Z)(e,2),n=t[0],a=t[1];r[n]={langPath:a}})),o=Object.keys(r);var i={};return 0===o.length?t:(Object.entries(t).forEach((function(e){var t=(0,L.Z)(e,2),n=t[0],a=t[1],c=n.toLowerCase(),u=r[c]||{};o.includes(c)&&(i[n]=(0,d.Z)((0,d.Z)({},a),u))})),i)}(t&&ne,te)},ae=n(5671),oe=n(3144),ie={currencyId:0,displayName:"USD",isDefault:1,isoCode:"USD",precision:2,symbol:"$",usdToThisRate:1},ce=function(){function e(){(0,ae.Z)(this,e),this.getting=!1,this.got=!1,this.data={nowCurrencyUnit:ie,allCurrencyUnit:[(0,d.Z)({},ie)]},this.cbList=[]}return(0,oe.Z)(e,[{key:"executeCbList",value:function(){var e=this;this.cbList.forEach((function(t){t&&t(e.data)}))}},{key:"getCurrency",value:function(){var e=this,t=f.Z.g.get("nowCurrencyUnit")||{},n=f.Z.g.get("allCurrencyUnit")||[(0,d.Z)({},ie)];if(Object.keys(t).length&&(this.data=(0,d.Z)((0,d.Z)({},this.data),{},{nowCurrencyUnit:t,allCurrencyUnit:n})),this.got)this.executeCbList();else if(!this.getting){this.getting=!0;var r=a.Z.locale,o="?locale=".concat(void 0===r?"en_US":r);Z.getWithCache(_.GET_ALL_CURRENCY+o,{cacheSeconds:60}).then((function(t){var n=t.data,r=void 0===n?[]:n;e.data=(0,d.Z)((0,d.Z)({},e.data),{},{allCurrencyUnit:r}),f.Z.g.set("allCurrencyUnit",r),e.got=!0,e.getting=!1,e.getNowCurrency()})).catch((function(){f.Z.g.set("allCurrencyUnit",e.data.allCurrencyUnit),e.getNowCurrency(),e.getting=!1}))}}},{key:"postRenewalCharge",value:function(e){var t={currencyId:e.currencyId};return Z.post(_.POST_CHARGE_UNIT,t).then((function(){sessionStorage.removeItem("willReportCurrencyId")}))}},{key:"getNowCurrency",value:function(){var e=this,t=localStorage.getItem("token"),n=this.data.allCurrencyUnit,r=ie;if(t){var a=sessionStorage.getItem("willReportCurrencyId");a?(a=Number(a),n.forEach((function(e){var t=e.currencyId;a===(void 0===t?0:t)&&(r=e)})),f.Z.g.set("nowCurrencyUnit",r),this.postRenewalCharge(r),this.data=(0,d.Z)((0,d.Z)({},this.data),{},{nowCurrencyUnit:r}),this.executeCbList()):Z.getWithCache(_.GET_CHARGE_UNIT,{cacheSeconds:1},!0).then((function(t){var a=t.data,o=(void 0===a?{}:a).currencyId||0;f.Z.g.set("legalCurrencyId",o),n.forEach((function(e){var t=e.currencyId;o===(void 0===t?0:t)&&(r=e)})),f.Z.g.set("nowCurrencyUnit",r),e.data=(0,d.Z)((0,d.Z)({},e.data),{},{nowCurrencyUnit:r}),e.executeCbList()})).catch((function(){f.Z.g.set("nowCurrencyUnit",r),e.data=(0,d.Z)((0,d.Z)({},e.data),{},{nowCurrencyUnit:r}),e.executeCbList()}))}else{var o=f.Z.g.get("nowCurrencyUnit")||{},i=Object.keys(o).length>0;n.forEach((function(e){var t=e.isoCode,n=void 0===t?"USD":t,a=e.currencyId,c=void 0===a?0:a;i?o.currencyId===c&&(r=e):"USD"===n.toUpperCase()&&(r=e)})),f.Z.g.set("legalCurrencyId",r.currencyId),f.Z.g.set("nowCurrencyUnit",r),this.data=(0,d.Z)((0,d.Z)({},this.data),{},{nowCurrencyUnit:r}),this.executeCbList()}}},{key:"then",value:function(e){this.cbList.push(e),this.getCurrency()}}]),e}(),ue=(n(472),n(5413),n(2706)),se=function(){function e(){(0,ae.Z)(this,e),this.allCurrencyUnit=[],this.nowLang={},this.nowCurrency={},this.languageMap={}}return(0,oe.Z)(e,[{key:"getLanguage",value:function(e){var t=a.Z.locale;this.languageMap=e,this.nowLang=this.languageMap[t]||{}}},{key:"setLanguage",value:function(e){var t=a.Z.locale;if(e!==(void 0===t?"en_US":t)){var n=this.languageMap[e]||{};this.nowLang=n,sessionStorage.setItem("reportedLanguage","1"),F.Z.set("locale",n.language,{path:"/",expires:18250}),F.Z.set("preferLocale",n.language,{path:"/",expires:18250});var r=a.Z.langPath,o=""===r,i=this.isSpecialLang(n.language),c=window&&window.location,u=c.hash,s=c.pathname.toLowerCase().startsWith("".concat(r,"/learn"));if(o&&i&&u&&!s)window.location.reload();else{var l=this.getNewUrl(e);window&&window.location.replace(l)}}}},{key:"getNewUrl",value:function(e){var t=a.Z.langPath,n=this.languageMap[e]||{},r=window&&window.location,o=r.pathname,i=r.search,c=r.hash,u="".concat(o).concat(i).concat(c),s=n.langPath?"/".concat(n.langPath):"/";if(n.href)return M()(n.href);if("/"===o||o===t)return M()("".concat(s).concat(i).concat(c));var l="";return l=t.length?u.replace(t,s):"".concat(s).concat(u),M()(l.replace("//","/"))}},{key:"isSpecialLang",value:function(e){return!(this.languageMap[e]||{}).langPath}},{key:"postRenewalCharge",value:function(e){var t={currencyId:e.currencyId};return p().post(_.POST_CHARGE_UNIT,t)}},{key:"setCurrency",value:function(e,t){return this.getNowCurrency(e,t)}},{key:"getNowCurrency",value:function(e,t){var n=p().isLogin(),r=f.Z.g.get("nowCurrencyUnit")||{},a=f.Z.g.get("allCurrencyUnit")||[];0===this.allCurrencyUnit.length&&(this.allCurrencyUnit=a);var o=r;return this.allCurrencyUnit.forEach((function(t){e===t.currencyId&&(o=t)})),n?t?sessionStorage.setItem("willReportCurrencyId",e):(f.Z.g.set("nowCurrencyUnit",o),this.postRenewalCharge(o)):f.Z.g.set("nowCurrencyUnit",o),t&&window.location.reload(),this.nowCurrency=o,ue.Z.trigger("global_updated_currency",o),o}}]),e}(),le=n(9966);const ge=function(e){var t=(f.Z.g.get("preference")||{}).upDownColor,n=void 0===t?0:t,r=(0,le.mZ)(!!n);e&&e(r)};const de=function(e){var t=f.Z.g.get("preference")||{};f.Z.g.set("chgSetIsRedUp",e),f.Z.g.set("preference",(0,d.Z)((0,d.Z)({},t),{},{upDownColor:e?1:0})),(0,le.w)(!!e)};var he=function(e,t){var n=a.Z.localeMap,r=void 0===n?{}:n,o={},i={};"object"===typeof e?e.forEach((function(e){var t=e.language,n=e.href;o[t.toLowerCase()]={href:n}})):Object.entries(r).forEach((function(e){var t=(0,L.Z)(e,2),n=t[0],r=t[1];o[n]={langPath:r}})),i=Object.keys(o);var c={};return 0===i.length?t:(Object.entries(t).forEach((function(e){var t=(0,L.Z)(e,2),n=t[0],r=t[1],a=n.toLowerCase(),u=o[a]||{};i.includes(a)&&(c[n]=(0,d.Z)((0,d.Z)({},r),u))})),c)},fe=function(){return Z.getWithCache(_.GET_OPEN_LANG,{cacheSeconds:300})};const ve=function(){function e(){(0,ae.Z)(this,e)}return(0,oe.Z)(e,[{key:"init",value:function(){var e=a.Z.broker;if((void 0===e?{}:e).is){var t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("function"!==typeof e)throw new Error("cb should be function");var n=t.delay,r=void 0===n?300:n,a=t.times||3;return new Promise((function(t,n){!function o(){e().then(t).catch((function(e){0===a?n(e):(a--,window&&window.setTimeout(o,r))}))}()}))}(fe,{times:3,delay:100}),n={};return t.then((function(e){return 0===e.code?(e.data.forEach((function(e){var t={language:e.lang,text:e.name,icon:e.icon};n[t.language]=t})),he("",n)):{}}))}var r=function(){var e=(window&&window.location).pathname,t=a.Z.langPath;return e.toLowerCase().startsWith("".concat(t,"/learn"))}();return he(r&&ne,te)}}]),e}();var pe=function(e){var t,n=f.Z.g.get("preference")||{},r=n.upDownColor,o=void 0===r?0:r,i=n.upDownTimeZone,c=(0,le.mZ)(!!o),u=(a.Z||{}).locale,s=void 0===u?"en_US":u;void 0===i?(t="zh_CN"===s||"zh_HK"===s||"zh_TW"===s?2:1,f.Z.g.set("preference",(0,d.Z)((0,d.Z)({},n),{},{chgSetInfo:c,upDownTimeZone:t}))):t=i,e&&e((0,d.Z)((0,d.Z)({},n),{},{chgSetInfo:c,upDownTimeZone:t,upDownColor:o}))};const me=function(e){if(p().isLogin()){var t=f.Z.g.get("profile").uuid||"",n="".concat(_.GET_PREFERENCE,"?uuid=").concat(t);Z.getWithCache(n,{cacheSeconds:10},!0).then((function(t){var n=t.data,r=void 0===n?{}:n,a=(f.Z.g.get("preference")||{}).upDownColor,o=!!(void 0===a?0:a),i=(0,le.mZ)(o);f.Z.g.set("chgSetIsRedUp",o),f.Z.g.set("preference",(0,d.Z)({},r)),e&&e((0,d.Z)((0,d.Z)({},r),{},{chgSetInfo:i}))})).catch((function(){pe(e)}))}else pe(e)};var ye=n(4942);const we=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=f.Z.g.get("preference")||{};Object.keys(t).forEach((function(e){f.Z.g.set("preference",(0,d.Z)((0,d.Z)({},n),{},(0,ye.Z)({},e,t[e])))})),void 0!==t.upDownColor&&(0,le.w)(!!t.upDownColor),e&&e()};var Ce={langCurrency:new se,getUnit:function(e){if(!(0,r.y)()){var t=new ce;if(!e)return new Promise((function(e){t.then(e)}));t.then(e)}return null},setUnit:function(e){var t=e.currencyId,n=e.refresh,a=void 0!==n&&n,o=e.callback;if(!(0,r.y)()){var i=Ce.langCurrency.setCurrency(t,a);if(!o)return new Promise((function(e){e(i)}));o&&o(i)}return null},getChgSet:function(e){return!(0,r.y)()&&ge(e)},setChg:function(e){return!(0,r.y)()&&de(e)},getLanguageList:function(){var e=(0,h.Z)((0,g.Z)().mark((function e(t){var n,a;return(0,g.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,r.y)()){e.next=9;break}return n=new ve,e.next=4,n.init();case 4:if(a=e.sent,Ce.langCurrency.getLanguage(a),t){e.next=8;break}return e.abrupt("return",new Promise((function(e){e(a)})));case 8:t&&t(a);case 9:return e.abrupt("return",{});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),setLanguage:function(e){var t=e.nowLocale;Ce.langCurrency.setLanguage(t)},get:function(){return!(0,r.y)()&&new Promise((function(e){me(e)}))},set:function(e){return!(0,r.y)()&&new Promise((function(t){we(t,e)}))}},be={then:function(e){Ce.getUnit(e)}},Ze=new(function(){function e(){(0,ae.Z)(this,e),this.getting={},this.got={},this.data={},this.cbList={}}return(0,oe.Z)(e,[{key:"getMedia",value:function(e){var t=this,n=a.Z.locale,r=void 0===n?"en_US":n,o=e?"&type=".concat(e):"",i="".concat(_.COMMUNITY_ALL,"?locale=").concat(r).concat(o);this.getting[e]||this.got[e]||(this.getting[e]=!0,Z.getWithCache(i,{cacheSeconds:300}).then((function(n){t.data[e]=n.data,t.got[e]=!0,t.getting[e]=!1,t.cbList[e].forEach((function(n){return n(t.data[e])}))})).catch((function(){t.data[e]={},t.getting[e]=!1,t.cbList[e].forEach((function(n){return n(t.data[e])}))})))}},{key:"then",value:function(e){var t=e.fn,n=e.type,r=void 0===n?0:n;this.got[r]?t&&t(this.data[r]):(this.getMedia(r),this.cbList[r]||(this.cbList[r]=[]),this.cbList[r].push(t))}}]),e}()),_e={then:function(e,t){!(0,r.y)()&&Ze.then({fn:e,type:t})}},Ee=function(){return p().isLogin()},ke=function(e,t,n,r){var o="".concat(a.Z.langPath,"/trade");if(e?(localStorage.setItem("simulatedTrading","1"),F.Z.set("simulatedTrading","1",{expires:365})):(localStorage.removeItem("simulatedTrading"),F.Z.set("simulatedTrading","1",{expires:-1})),r&&localStorage.setItem("simulatedTradingNotice",e),!n){var i=window.location,c=t||i.href;e&&(c=t||o),c===i.href?i.reload():i.assign(c)}};const Le=(0,r.y)()?{getSeoLanguageList:re}:{ui:s,DVInstance:Q,preference:Ce,getCheckIpInfo:X,allAssociation:_e,allCurrencyUnit:be,getSeoLanguageList:re,setCurrency:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Ce.setUnit({currencyId:e,refresh:t})},getTradeSystemStatus:function(){var e=a.Z.simulatedStatus;return new Promise((function(t){t&&t({canUnified:!0,canTrade:!1,canSimulate:"0"!==e,demoApi:2,realApi:2})}))},showNav:function(e){u.setNav({nav:e})},showCS:G,setCsIconVisibility:function(e){O.Z.send("global_general_charbot_icon_visibility",{isVisible:e})},getQrCode:R,setForward:P,saveUserInfo:k,linkToLangUrl:l,setSchemaScript:z,getDownloadQrCode:H,getDownloadUrl:W,getSimulatedTrading:function(e){if(!(0,r.y)()){var t=(f.Z.g.get("profile")||{}).openSimulate;t=void 0===t?1:t,e({isSimulated:a.Z.simulatedTrading,isShow:!!Ee()&&t})}},setSimulatedTrading:function(e,t){if(!(0,r.y)()){if(!Ee())return void ke(e,t,!1,!0);ke(e,t,!0,!1);var n={onUpdateTokenDone:function(){ke(e,t,!1,!0)},switchingDemoTrading:!0};Z.post(_.POST_REFRESH_TOKEN,{},n).then().catch((function(){}))}},checkSubAccountPermission:ee,getWatcher:function(){return O.Z}};(0,r.y)()||(a.Z.isRenderByNode&&(window.okGlobal=window.okGlobal?window.okGlobal:{}),Object.assign(window.okGlobal,Le))},5833:e=>{e.exports=utils.ont}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.m=e,(()=>{var e=[];n.O=(t,r,a,o)=>{if(!r){var i=1/0;for(l=0;l<e.length;l++){for(var[r,a,o]=e[l],c=!0,u=0;u<r.length;u++)(!1&o||i>=o)&&Object.keys(n.O).every((e=>n.O[e](r[u])))?r.splice(u--,1):(c=!1,o<i&&(i=o));if(c){e.splice(l--,1);var s=a();void 0!==s&&(t=s)}}return t}o=o||0;for(var l=e.length;l>0&&e[l-1][2]>o;l--)e[l]=e[l-1];e[l]=[r,a,o]}})(),n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"common/"+e+".94de0234.js",n.miniCssF=e=>"common/"+e+".436e1193.css",n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="okx-nav:";n.l=(r,a,o,i)=>{if(e[r])e[r].push(a);else{var c,u;if(void 0!==o)for(var s=document.getElementsByTagName("script"),l=0;l<s.length;l++){var g=s[l];if(g.getAttribute("src")==r||g.getAttribute("data-webpack")==t+o){c=g;break}}c||(u=!0,(c=document.createElement("script")).charset="utf-8",c.timeout=120,n.nc&&c.setAttribute("nonce",n.nc),c.setAttribute("data-webpack",t+o),c.src=r),e[r]=[a];var d=(t,n)=>{c.onerror=c.onload=null,clearTimeout(h);var a=e[r];if(delete e[r],c.parentNode&&c.parentNode.removeChild(c),a&&a.forEach((e=>e(n))),t)return t(n)},h=setTimeout(d.bind(null,void 0,{type:"timeout",target:c}),12e4);c.onerror=d.bind(null,c.onerror),c.onload=d.bind(null,c.onload),u&&document.head.appendChild(c)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.j=416,(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");r.length&&(e=r[r.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e+"../../"})(),(()=>{if("undefined"!==typeof document){var e=e=>new Promise(((t,r)=>{var a=n.miniCssF(e),o=n.p+a;if(((e,t)=>{for(var n=document.getElementsByTagName("link"),r=0;r<n.length;r++){var a=(i=n[r]).getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(a===e||a===t))return i}var o=document.getElementsByTagName("style");for(r=0;r<o.length;r++){var i;if((a=(i=o[r]).getAttribute("data-href"))===e||a===t)return i}})(a,o))return t();((e,t,n,r,a)=>{var o=document.createElement("link");o.rel="stylesheet",o.type="text/css",o.onerror=o.onload=n=>{if(o.onerror=o.onload=null,"load"===n.type)r();else{var i=n&&("load"===n.type?"missing":n.type),c=n&&n.target&&n.target.href||t,u=new Error("Loading CSS chunk "+e+" failed.\n("+c+")");u.code="CSS_CHUNK_LOAD_FAILED",u.type=i,u.request=c,o.parentNode.removeChild(o),a(u)}},o.href=t,n?n.parentNode.insertBefore(o,n.nextSibling):document.head.appendChild(o)})(e,o,null,t,r)})),t={416:0};n.f.miniCss=(n,r)=>{t[n]?r.push(t[n]):0!==t[n]&&{254:1}[n]&&r.push(t[n]=e(n).then((()=>{t[n]=0}),(e=>{throw delete t[n],e})))}}})(),(()=>{var e={416:0};n.f.j=(t,r)=>{var a=n.o(e,t)?e[t]:void 0;if(0!==a)if(a)r.push(a[2]);else{var o=new Promise(((n,r)=>a=e[t]=[n,r]));r.push(a[2]=o);var i=n.p+n.u(t),c=new Error;n.l(i,(r=>{if(n.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var o=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.src;c.message="Loading chunk "+t+" failed.\n("+o+": "+i+")",c.name="ChunkLoadError",c.type=o,c.request=i,a[1](c)}}),"chunk-"+t,t)}},n.O.j=t=>0===e[t];var t=(t,r)=>{var a,o,[i,c,u]=r,s=0;if(i.some((t=>0!==e[t]))){for(a in c)n.o(c,a)&&(n.m[a]=c[a]);if(u)var l=u(n)}for(t&&t(r);s<i.length;s++)o=i[s],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(l)},r=self.webpackChunkokx_nav=self.webpackChunkokx_nav||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=n.O(void 0,[736],(()=>n(7160)));r=n.O(r),okxGlobal=r.okxGlobal})();
//# sourceMappingURL=index.js.map