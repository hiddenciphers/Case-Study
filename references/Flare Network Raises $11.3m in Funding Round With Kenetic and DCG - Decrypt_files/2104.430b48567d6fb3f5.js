(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2104],{5552:function(e,t,a){"use strict";a.d(t,{Y:function(){return o}});var n=a(52322),l=a(2784),s=a(49442),r=a(81022);let o=e=>{let{children:t,open:a,setOpen:o,refDiv:c,onClose:i=()=>{},isDismissable:d=!0,extraClassNames:u="",wrapperExtraClassNames:m=""}=e;return(0,n.jsx)(s.u.Root,{show:a,as:l.Fragment,children:(0,n.jsx)(r.V,{as:"div",initialFocus:c,static:!0,className:"fixed z-50 inset-0 overflow-y-auto ".concat(u),open:a,onClose:()=>{d&&(i(),o(!1))},children:(0,n.jsxs)("div",{ref:c,className:"flex items-end justify-center min-h-3/4 pt-4 px-4 pb-20 text-center sm:block sm:p-0 ".concat(m),children:[(0,n.jsx)(s.u.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,n.jsx)(r.V.Overlay,{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"})}),(0,n.jsx)("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"â€‹"}),(0,n.jsx)(s.u.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:t})]})})})}},13976:function(e,t,a){"use strict";a.r(t);var n=a(92228),l=a(52322),s=a(2784),r=a(35505),o=a(87008),c=a(5552),i=a(26525),d=a(47332),u=a(76619),m=a(74023),x=a(89439),f=a(20715),p=a.n(f),y=a(54277),h=a(96264),g=a(89924),w=a(15159),v=a(69639),N=a(38993),b=a(55318),j=a(65690);function k(){let e=(0,n.Z)(["\n  font-weight: 700;\n  cursor: pointer;\n  height: ","px;\n"]);return k=function(){return e},e}let E=(0,r.default)(m.z).withConfig({componentId:"sc-14a728c3-0"})(k(),y.INPUT_HEIGHT),C="component.modals.accountDetails",D=e=>{var t;let{open:a,setOpen:n,isSignUp:r=!0}=e,{t:m}=(0,o.$G)(),f=(0,s.useRef)(null),[y,k]=(0,u.v3)(),[D,I]=(0,s.useState)(""),A=p()(y,"context.wallets",null),T=p()(y,"context.userData.id",null),W=p()(y,"context.userData.email",null),z=p()(y,"context.userData.name",null),S=p()(y,"context.userData.avatar",null),G=p()(y,"context.userData.defaultAvatar",null),L=p()(y,"context.userData.visible",null),M=(null==A?void 0:null===(t=A[0])||void 0===t?void 0:t.publicKey)||null,F=z||W||M&&"Wallet ".concat((0,w.a_)(M))||"User #".concat(T),_=!!W,O=(null==A?void 0:A.length)>0;_&&O&&a&&n(!1),(0,s.useEffect)(()=>{a&&(0,j.j)(["welcomeModal","impression"],{hasEmail:_,hasWallet:O})},[a]);let{addWallet:R,addWalletStatus:B}=(0,v.L)({onError(e){I(e)},onSuccess(){n(!1),(0,j.j)(["welcomeModal","addWallet"])},onWalletAlreadyConnectedToCurrentUser(){n(!1)}}),[U,Y]=(0,s.useState)(""),{updateEmail:q,isEmailVerificationModalOpen:H}=(0,N.z)({onError(e){I(e)},onSuccess(e){(0,j.j)(["welcomeModal","addEmail"]),n(!1),k({type:"LOAD_USER_DATA",userData:e}),(0,b.xw)({email:e.email,unitName:"AccountsDetailsModal"})}}),P=(0,s.useMemo)(()=>B===v.H.SIGNING||H,[B,H]),J=()=>n(!1);return(0,l.jsx)(c.Y,{open:a,setOpen:n,refDiv:f,children:(0,l.jsxs)("div",{ref:f,className:(0,d.classNames)("inline-block align-bottom bg-decryptBackgroundColor rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle w-auto max-w-[600px]"),children:[(0,l.jsx)(g.x,{}),(0,l.jsxs)("div",{className:"py-10 px-5 sm:py-12 sm:px-20",children:[(0,l.jsx)("button",{onClick:()=>n(!1),className:"absolute top-5 right-6 cursor-pointer text-xl",children:(0,l.jsx)(x.J,{icon:["fal","times"]})}),(0,l.jsxs)("div",{className:"flex flex-col items-center text-center",children:[(0,l.jsx)("h3",{className:"text-2.5xl sm:text-4xl font-akzidenz-grotesk font-bold text-center text-decryptBlack",children:r?m("".concat(C,".welcome"),"Welcome to Decrypt!"):m("".concat(C,".welcomeBack"),"Welcome back!")}),(0,l.jsxs)("p",{className:"mt-2 text-xl font-akzidenz-grotesk font-normal max-w-prose sm:max-w-md",children:[r&&m("".concat(C,".successfullyCreatedAnAccount"),"You successfully created an account for")," ",(0,l.jsx)("span",{className:"text-decryptPurple",children:F})]}),(0,l.jsx)(h.Z,{publicProfile:L,userAvatar:S,defaultAvatar:G,publicClasses:"w-28 h-28 sm:h-28 sm:w-28 border border-gray-300 rounded-sm my-5",privateClasses:"w-28 h-28 sm:h-28 sm:w-28 text-4xl bg-decryptWhite rounded-sm border border-gray-300 flex items-center justify-center my-5",iconClasses:"text-gray-500"}),r&&(0,l.jsx)("p",{className:"mb-2 text-xl font-akzidenz-grotesk font-normal",children:m("".concat(C,".signupMessage"),"You now have full access to Decrypt U, Courses and other account features.")}),(0,l.jsx)("p",{className:"text-xl font-akzidenz-grotesk font-medium",children:_?m("".concat(C,".addYourWalletDecription"),"To take advantage of upcoming benefits please add your Email."):m("".concat(C,".addYourEmailDecription"),"To take advantage of upcoming airdrops, perks and token gated content make sure you add your wallet.")}),(0,l.jsxs)("form",{className:(0,d.classNames)(r?"sm:ml-4":"","max-w-xs w-full mt-4 flex rounded-sm flex-col"),onSubmit:e=>{e.preventDefault(),_?R():q(U)},children:[!_&&(0,l.jsx)("input",{type:"text",name:"email",id:"email",className:(0,d.classNames)(D?"border-red":"border-gray-300","block w-full sm:max-w-xs text-xl mb-2 rounded-md focus:ring-black focus:border-black"),value:U,onChange:e=>{Y(e.target.value)},placeholder:"you@example.com","aria-invalid":"true","aria-describedby":"email-error"}),(0,l.jsx)(E,{size:"m",className:"w-full rounded-md",type:"submit",children:P?(0,l.jsx)(i.q,{}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(x.J,{icon:["far","plus"],className:"mr-2"}),_?m("".concat(C,".addWalletButton"),"Add Wallet"):m("".concat(C,".addEmailButton"),"Add Email")]})}),D&&(0,l.jsx)("p",{className:"mt-1 text-base text-left text-decryptRed font-akzidenz-grotesk font-normal",children:D}),(0,l.jsx)("button",{type:"button",className:"text-decryptBlack font-akzidenz-grotesk font-medium underline mt-8",onClick:J,children:_?m("".concat(C,".addWalletLater"),"I'll add my Wallet later."):m("".concat(C,".addEmailLater"),"I'll add my Email later.")})]})]})]})]})})};t.default=D},69639:function(e,t,a){"use strict";a.d(t,{H:function(){return d},L:function(){return u}});var n=a(87008),l=a(2784),s=a(76619),r=a(54265),o=a(54896),c=a(62561),i=a(33702);let d={IDLE:0,CONNECTING:1,SIGNING:2},u=function(){let{onWalletAlreadyConnectedToCurrentUser:e=e=>e,onSuccess:t=e=>e,onError:a=e=>e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{t:u}=(0,n.$G)(),m=(0,i.a)(),x=(0,c.s)(m),[f,p]=(0,s.v3)(),[y,h]=(0,l.useState)(d.IDLE),{disconnectAsync:g}=(0,r.qL)(),{openConnectModal:w}=(0,o.We)(),{signMessageAsync:v}=(0,r.QW)(),{status:N}=(0,r.mA)({async onConnect(n){var l;let{address:s,connector:r}=n;if(y===d.CONNECTING){if(await new Promise(e=>requestAnimationFrame(e)),h(d.SIGNING),null===(l=f.context.wallets)||void 0===l?void 0:l.find(e=>e.publicKey===s)){e(s),h(d.IDLE);return}try{let e=await x.getNonce(),a=await(null==r?void 0:r.getChainId()),n=x.createMessage({address:s,nonce:e,chainId:a}).prepareMessage(),l=await v({message:n}).catch(()=>{throw Error(u("".concat("component.userWalletManager",".alerts.signatureRequestRejectionError"),"Signature request was rejected."))}),o=await x.addWallet({signature:l,message:n});p({type:"SET_WALLETS",data:o}),t(s)}catch(t){let{message:e}=t;a(e)}h(d.IDLE)}}}),b=(0,l.useCallback)(async()=>{h(d.CONNECTING),w?w():g()},[h,N]);return(0,l.useEffect)(()=>{y===d.CONNECTING&&w&&w()},[y,w]),{addWallet:b,accountConnectionStatus:N,addWalletStatus:y}}},62561:function(e,t,a){"use strict";a.d(t,{s:function(){return r}});var n=a(66662),l=a(41845),s=a(5682);let r=()=>{let e=async()=>{let{nonce:e}=await s.G.getEthereumMessageNonce();return e},t=e=>{let{nonce:t,address:a,chainId:s}=e,{host:r,origin:o}=new URL(n.decryptApiHostname);return new l.SiweMessage({domain:r,address:a,statement:"Sign in with your wallet to the Decrypt.",uri:o,version:"1",chainId:s,nonce:t})},a=async e=>{let{signature:t,message:a}=e,n=await s.T.addWallet({message:a,signature:t});if(!n.wallet_list)throw Error(n.message);return n},r=async e=>{let{signature:t,message:a}=e,n=await s.G.verifyEthereumSignature({signature:t,message:a}),l=!!(null==n?void 0:n.lastLoginAt);return{isSuccess:l,user:n}};return{getNonce:e,createMessage:t,addWallet:a,loginWithWallet:r}}},75477:function(){}}]);